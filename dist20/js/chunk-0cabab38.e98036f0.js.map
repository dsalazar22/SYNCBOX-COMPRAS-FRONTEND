{"version":3,"sources":["webpack:///./src/components/i40/js/trade.js","webpack:///./src/vendor/libs/sweet-modal-vue/sweet-modal-vue.scss?2d3d","webpack:///./node_modules/vue-multiselect/dist/vue-multiselect.min.css?71e7","webpack:///./src/components/sbx/trade/cartera.vue?4e61","webpack:///src/components/sbx/trade/cartera.vue","webpack:///./src/components/sbx/trade/cartera.vue?76a5","webpack:///./src/components/sbx/trade/cartera.vue"],"names":["axiosConfig","headers","localStorage","getItem","JSON","parse","token","infotrade","orders","info","actions","console","log","trade","axios","post","addheadorders","addorderdetails","gettrm","divisa","get","update_order_status","purchases","getcartera","deliveries","globalordersreport","quotcontroller","printOrders","url","method","data","request","responseType","sendMail","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","callback","$$v","filter","expression","on","$event","pageOptions","perPage","staticStyle","tableCommercialsOrders","columnsCommercialsOrders","currentPage","scopedSlots","_u","key","fn","row","_s","item","nit","name","phone","numberWithCommas","toggleDetails","detailsShowing","details","columnsDetails","totalRows","staticRenderFns","component"],"mappings":"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","file":"js/chunk-0cabab38.e98036f0.js","sourcesContent":["import axios from 'axios'\nimport {trade,pdfconn} from './globals'\nlet axiosConfig = {\n  headers: {\n    'Authorization': localStorage.getItem('syncbox.cloud') == null ? '' : JSON.parse(localStorage.getItem('syncbox.cloud')).token\n  }\n}\n\nvar infotrade = {\n  orders: function (info, actions) {\n    console.log( JSON.parse(localStorage.getItem('syncbox.cloud')).token)\n    console.log(trade)\n    return axios.post(trade + 'commercialsorders/' + actions, info, axiosConfig)\n  },\n\n  addheadorders: function (info, actions) {\n    return axios.post(trade + 'comercialordercontroller/' + actions, info, axiosConfig)\n  },\n  \n  addorderdetails: function (info, actions) {\n    return axios.post(trade + 'comercialorderdetailcontroller/' + actions, info, axiosConfig)\n  },\n\n  gettrm: function (divisa) {\n    return axios.get(trade + 'gettrm/' + divisa, axiosConfig)\n  },\n  \n  update_order_status: function (info, actions) {\n    return axios.post(trade + 'updateorderstatus', info, axiosConfig)\n  },\n\n  purchases: function (info, actions) {\n    return axios.post(trade + 'commercialpurchases/' + actions, info, axiosConfig)\n  },\n\n  getcartera: function (info, actions) {\n    return axios.get(trade + 'getoutstandinginvoices/' + actions+ '/' + info, axiosConfig)\n  },\n\n  deliveries: function (info, actions) {\n    return axios.post(trade + 'deliveries/' + actions,info, axiosConfig)\n  },\n\n  globalordersreport: function () {\n    return axios.get(trade + 'globalordersreport', axiosConfig)\n  },\n  quotcontroller: function (info, actions) {\n    return axios.post(trade + 'quotcontroller/' + actions, info, axiosConfig)\n  },\n\n  printOrders: function(info){\n    // return axios.post('http://localhost:3000/orders', info)\n    let url = 'http://localhost:3000/orders'\n    let method = \"POST\"\n    let data = info\n\n    return axios.request({\n      url,\n      method,\n      data,\n      responseType: 'blob', //important\n    })\n  },\n\n  sendMail: function (info) {\n    return axios.post('http://localhost:3000/orders', info, axiosConfig)\n  },\n}\n\nexport {\n  infotrade\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./sweet-modal-vue.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./sweet-modal-vue.scss?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../vue-loader/lib/loaders/stylePostLoader.js!../../postcss-loader/src/index.js??ref--6-oneOf-1-2!./vue-multiselect.min.css?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../vue-loader/lib/loaders/stylePostLoader.js!../../postcss-loader/src/index.js??ref--6-oneOf-1-2!./vue-multiselect.min.css?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"font-weight-bold py-3 mb-0\"},[_vm._v(\" Información Cartera \")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('b-row',[_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"6\"}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"placeholder\":\"Buscar...\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_vm._v(\" \"),_c('b-input-group-append',[_c('b-btn',{attrs:{\"disabled\":!_vm.filter},on:{\"click\":function($event){_vm.filter = ''}}},[_c('span',{staticClass:\"oi oi-delete\"})])],1)],1)],1),_vm._v(\" \"),_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"6\"}},[_c('b-form-select',{attrs:{\"options\":_vm.pageOptions},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}})],1)],1),_vm._v(\" \"),_c('b-table',{staticStyle:{\"font-size\":\"14px\"},attrs:{\"sticky-header\":false,\"no-border-collapse\":false,\"responsive\":\"\",\"items\":_vm.tableCommercialsOrders,\"fields\":_vm.columnsCommercialsOrders,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage},scopedSlots:_vm._u([{key:\"cell(nit)\",fn:function(row){return [_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(row.item.nit))])]}},{key:\"cell(name)\",fn:function(row){return [_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(row.item.name))])]}},{key:\"cell(phone)\",fn:function(row){return [_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(row.item.phone))])]}},{key:\"cell(30_days)\",fn:function(row){return [_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(_vm.numberWithCommas(row.item[\"30_days\"])))])]}},{key:\"cell(quota)\",fn:function(row){return [_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(_vm.numberWithCommas(row.item[\"quota\"])))])]}},{key:\"cell(31_to_60_days)\",fn:function(row){return [_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(_vm.numberWithCommas(row.item[\"31_to_60_days\"])))])]}},{key:\"cell(61_to_90_days)\",fn:function(row){return [_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(_vm.numberWithCommas(row.item[\"61_to_90_days\"])))])]}},{key:\"cell(mas_90_days)\",fn:function(row){return [_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(_vm.numberWithCommas(row.item[\"mas_90_days\"])))])]}},{key:\"cell(total)\",fn:function(row){return [_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(_vm.numberWithCommas(row.item[\"total\"])))])]}},{key:\"cell(edit)\",fn:function(row){return [_c('b-button',{staticClass:\"mr-2\",attrs:{\"size\":\"sm\"},on:{\"click\":row.toggleDetails}},[_vm._v(\"\\n                            \"+_vm._s(row.detailsShowing ? 'Ocultar' : 'Detalles')+\"\\n                            \")])]}},{key:\"row-details\",fn:function(row){return [_c('b-card',[_c('b-table',{staticStyle:{\"font-size\":\"14px\"},attrs:{\"responsive\":\"\",\"items\":row.item.details,\"fields\":_vm.columnsDetails},scopedSlots:_vm._u([{key:\"cell(total)\",fn:function(row){return [_c('div',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(_vm.numberWithCommas(row.item[\"total\"])))])]}}],null,true)}),_vm._v(\" \"),_c('div',{staticClass:\"text-center\"},[_c('b-button',{attrs:{\"block\":\"\",\"size\":\"sm\"},on:{\"click\":row.toggleDetails}},[_vm._v(\"Ocultar Details\")])],1)],1)]}}])}),_vm._v(\" \"),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',[_c('b-pagination',{staticClass:\"my-0\",attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"w-25\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\" Total Clientes Cartera: \"+_vm._s(_vm.totalRows)+\" \")])])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<!-- :fields=\"columns\" -->\n    <div>\n        <h4 class=\"font-weight-bold py-3 mb-0\"> Información Cartera </h4>\n\n        <div class=\"row\">\n            <div class=\"col\">\n                <!-- OPCIONES DE BUSQUEDA Y BOTONES PARA CREAR NUEVOS REGISTROS -->\n            <b-row>\n\n                <!-- ESTE ES EL BUSCADOR Y EL BOTON PARA BORRAR -->\n                <b-col md=\"6\" class=\"my-1\">\n                    <b-input-group>\n                        <b-form-input v-model=\"filter\" placeholder=\"Buscar...\" />\n                        <b-input-group-append>\n                        <b-btn :disabled=\"!filter\" @click=\"filter = ''\"> <span class=\"oi oi-delete\" ></span> </b-btn>\n                        </b-input-group-append>\n                    </b-input-group>\n                </b-col>\n                <!-- ESTE ES EL BUSCADOR Y EL BOTON PARA BORRAR -->\n\n                <!-- ESTE ES EL PAGINADOR -->\n                <b-col md=\"6\" class=\"my-1\">\n                    <b-form-select :options=\"pageOptions\" v-model=\"perPage\" />\n                </b-col>\n                \n                <!-- ESTE ES EL PAGINADOR -->\n\n                <!-- BOTONES PARA CREAR NUEVOS REGISTROS Y PARA OPCION DE AYUDA -->\n\n                <!-- BOTONES PARA CREAR NUEVOS REGISTROS Y PARA OPCION DE AYUDA -->\n            </b-row>\n            <!-- OPCIONES DE BUSQUEDA Y BOTONES PARA CREAR NUEVOS REGISTROS -->\n\n\n                \n                <b-table  :sticky-header=\"false\" :no-border-collapse=\"false\" responsive style=\"font-size:14px\"\n                    :items=\"tableCommercialsOrders\"  :fields=\"columnsCommercialsOrders\"  :current-page=\"currentPage\" :per-page=\"perPage\">\n\n\n                        <template v-slot:cell(nit)=\"row\">\n                            <div class=\"text-nowrap\"> {{row.item.nit}}</div>\n                        </template>\n                        <template v-slot:cell(name)=\"row\">\n                            <div class=\"text-nowrap\"> {{row.item.name}}</div>\n                        </template>\n                        <template v-slot:cell(phone)=\"row\">\n                            <div class=\"text-nowrap\"> {{row.item.phone}}</div>\n                        </template>\n                        <template v-slot:cell(30_days)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item[\"30_days\"])}}</div>\n                        </template>\n                        <template v-slot:cell(quota)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item[\"quota\"])}}</div>\n                        </template>\n                        <template v-slot:cell(31_to_60_days)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item[\"31_to_60_days\"])}}</div>\n                        </template>\n                        <template v-slot:cell(61_to_90_days)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item[\"61_to_90_days\"])}}</div>\n                        </template>\n                        <template v-slot:cell(mas_90_days)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item[\"mas_90_days\"])}}</div>\n                        </template>\n                        <template v-slot:cell(total)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item[\"total\"])}}</div>\n                        </template>\n\n                          <!-- <template v-slot:head(order_created)=\"scope\">\n                            <div class=\"text-nowrap\">Fecha Ingreso</div>\n                        </template>\n                        <template v-slot:head(deadline)=\"scope\">\n                            <div class=\"text-nowrap\">Fecha Compromiso</div>\n                        </template>\n\n\n                        <template v-slot:cell(order_code)=\"row\">\n                            <div class=\"text-nowrap\"> {{row.item.order_code == '' ? row.item.orders_id : row.item.order_code}}</div>\n                        </template>\n                        <template v-slot:cell(total_sale)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item.sale_price * row.item.requested_amount)}}</div>\n                        </template>\n                        <template v-slot:cell(requested_amount)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item.requested_amount)}}</div>\n                        </template>\n                        <template v-slot:cell(delivered_quantity)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item.delivered_quantity)}}</div>\n                        </template>\n                        <template v-slot:cell(available_inventory)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item.available_inventory)}}</div>\n                        </template>\n                        <template v-slot:cell(total_pending)=\"row\">\n                            <div class=\"text-nowrap\"> {{numberWithCommas(row.item.total_pending)}}</div>\n                        </template>\n                        <template v-slot:cell(product_code)=\"row\">\n                            <div class=\"text-nowrap\"> {{row.item.customer_code != '' && row.item.customer_code != row.item.product_code ? row.item.customer_code + ' ('+row.item.product_code +')' : row.item.product_code}}</div>\n                        </template> -->\n                         <template v-slot:cell(edit)=\"row\">\n                            <b-button size=\"sm\" @click=\"row.toggleDetails\" class=\"mr-2\">\n                            {{ row.detailsShowing ? 'Ocultar' : 'Detalles'}}\n                            </b-button>\n                         </template>\n\n                        <template v-slot:row-details=\"row\">\n                            <b-card>\n\n                                <b-table responsive style=\"font-size:14px\" :items=\"row.item.details\"  :fields=\"columnsDetails\" >\n                                    <template v-slot:cell(total)=\"row\">\n                                        <div class=\"text-nowrap\"> {{numberWithCommas(row.item[\"total\"])}}</div>\n                                    </template>\n                                </b-table>\n                            <div class=\"text-center\">\n                                <b-button block size=\"sm\" @click=\"row.toggleDetails\">Ocultar Details</b-button>\n                            </div>\n                            </b-card>\n                        </template>\n                  \n                    </b-table>\n                    \n                <div class=\"d-flex justify-content-between\">\n                    <div>\n                        <b-pagination :total-rows=\"totalRows\" :per-page=\"perPage\" v-model=\"currentPage\" class=\"my-0\" />\n                    </div>\n                    <div  class=\"w-25\">\n                        <small class=\"text-muted\"> Total Clientes Cartera: {{totalRows}} </small>\n                           \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<style src=\"@/vendor/libs/sweet-modal-vue/sweet-modal-vue.scss\" lang=\"scss\"></style>\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\" > </style>\n<script>\nimport { infotrade } from \"@/components/i40/js/trade\";\nimport Multiselect from 'vue-multiselect'\nimport VueMarkdown from 'vue-markdown'\nimport { SweetModal, SweetModalTab } from 'sweet-modal-vue'\nimport { ApiWikiHelp } from \"@/vendor/sbx/sbx-cloud/cloud_apiwiki\";\nimport {infousers} from '@/components/i40/js/users'\nimport { infosysconfig } from \"@/components/i40/js/sysconfig\";\n\nexport default {\n    \n    metaInfo: {\n       title: 'Información Cartera'\n    },\n    components: {\n            VueMarkdown,\n            SweetModal,\n            Multiselect\n        },\n\n    watch:{\n        'filter':function(value){\n            this.tableCommercialsOrders = this.filter_tableData.filter(function (task) {\n                if(task.nit.toLowerCase().includes(value.toLowerCase()) || task.name.toLowerCase().includes(value.toLowerCase()))\n                    return task\n            });\n            this.totalRows = this.tableCommercialsOrders.length\n            this.currentPage = 1\n            // this.onFiltered(this.tableCommercialsOrders)\n        },\n    },\n\n    data() {\n        return {\n            tableCommercialsOrders:[],\n            filter_tableData:[],\n            columnsDetails:[\n                {key:'document', label:\"Documento\"},\n                {key:'deadline',sortable:true, label:\"Fecha Vence\"},\n                {key:'days', sortable:true, label:\"Dias Transcurridos\"},\n                {key:'total',sortable:true, label:\"Total\"},\n            ],\n            columnsCommercialsOrders: [\n        \n                    ///Este objeto es fijo en caso de que se necesite modificar la info\n                    // {key:' id_workplace', label:\"id_workplace\", thClass: 'd-none', tdClass: 'd-none'},\n                    // {key:' workstation_type_id', label:\"workstation_type_id\", thClass: 'd-none', tdClass: 'd-none'},\n                    {key:'nit', label:\"NIT\", stickyColumn: true},\n                    {key:'name', label:\"Cliente\", stickyColumn: true},\n                    {key:'phone', label:\"Telefono\"},\n                    {key:'term_days', label:\"Dias\"},\n                    {key:'quota', label:\"Cupo\"},\n                    {key:'30_days', sortable:true, label:\"30 Días\"},\n                    {key:'31_to_60_days', sortable:true, label:\"31 a 60\"},\n                    {key:'61_to_90_days', sortable:true, label:\"61 a 90\"},\n                    {key:'mas_90_days', sortable:true, label:\"+90\"},\n                    {key:'total', sortable:true, label:\"Total\"},\n                    {key:'edit', label:\"Action\"},\n                ],\n\n            ///Info de filtro y paginas para la tabla\n                currentPage: 1,\n                perPage: 50,\n                totalRows: 0,\n                pageOptions: [ 50, 100, 200 ],\n                filter: null,\n            ///Info de filtro y paginas para la tabla\n\n            contentWiki: \"\",\n            anchorAttrs: {\n                target: '_blank',\n                rel: 'noopener noreferrer nofollow'\n            },\n        }\n    },\n    methods: {\n\n        numberWithCommas(x) {\n            if(x == null)\n                x=0\n            return x.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, \",\");\n        },\n\n        loadcartera(){\n            infotrade.getcartera(\"--\", \"get\").then(data => {\n                this.tableCommercialsOrders = []\n                this.filter_tableData = []\n                if(data.data != \"\"){\n                    this.tableCommercialsOrders = data.data\n                    this.filter_tableData = data.data\n                    this.totalRows = this.tableCommercialsOrders.length\n                }\n            })\n        },\n\n        \n        check_access(control, action){\n            return infousers.check_access(control,action)\n        }, \n         ///Funcion para cargar la ayuda del helper\n             openHelp: function(){\n                //  this.contentWiki = \"# FFFF\"\n                ApiWikiHelp(this.version, this.name).then(data => {\n                    this.contentWiki = data.data\n                })\n                .catch(data =>{\n                    this.contentWiki = data.data\n                })\n                this.$refs.longModal.open()\n            },\n    },\n    created(){\n        this.loadcartera()\n\n    },\n}\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cartera.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cartera.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cartera.vue?vue&type=template&id=3d7c0498&\"\nimport script from \"./cartera.vue?vue&type=script&lang=js&\"\nexport * from \"./cartera.vue?vue&type=script&lang=js&\"\nimport style0 from \"@/vendor/libs/sweet-modal-vue/sweet-modal-vue.scss?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"vue-multiselect/dist/vue-multiselect.min.css?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}