(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e4ffd56"],{"1a82":function(t,e,i){},"6b9d":function(t,e,i){},"8e35":function(t,e,i){"use strict";var o=i("1a82"),a=i.n(o);a.a},d717:function(t,e,i){"use strict";var o=i("6b9d"),a=i.n(o);a.a},f120:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("notifications",{attrs:{group:"notifications-default"}}),t._v(" "),i("h4",{staticClass:"font-weight-bold py-3 mb-4"},[t._v("Administración de Formularios")]),t._v(" "),i("div",{staticClass:"w-100 text-right"}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("b-row",[i("b-col",{staticClass:"my-1",attrs:{md:"5"}},[i("b-input-group",[i("b-form-input",{attrs:{placeholder:"Buscar..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),i("b-input-group-append",[i("b-btn",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[i("span",{staticClass:"oi oi-delete"})])],1)],1)],1),t._v(" "),i("b-col",{staticClass:"my-1",attrs:{md:"5"}},[i("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1),t._v(" "),i("b-col",{staticClass:"d-flex justify-content-center my-1",attrs:{md:"2"}},[i("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modals-default",modifiers:{"modals-default":!0}}],staticClass:"btn-md",attrs:{variant:"outline-success icon-btn"},on:{click:function(e){e.preventDefault(),t.addData(),t.objState={}}}},[i("i",{staticClass:"ion ion-md-add"})]),t._v(" \n                "),i("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modals-default",modifiers:{"modals-default":!0}}],staticClass:"btn-md",attrs:{variant:"outline-info icon-btn"},on:{click:function(e){return e.preventDefault(),t.openHelp(e)}}},[i("i",{staticClass:"fas fa-chalkboard-teacher"})])],1)],1),t._v(" "),i("b-table",{attrs:{small:"","show-empty":"",stacked:"md",items:t.tableDataForm,fields:t.columns,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(edit)",fn:function(e){return[i("div",{staticClass:"text-left"},[i("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-success borderless icon-btn"},on:{click:function(i){return i.preventDefault(),t.data_change(e.item,"edit")}}},[i("i",{staticClass:"ion ion-md-create"})])],1)]}},{key:"cell(is_active)",fn:function(e){return[i("div",{staticClass:"text-left"},[e.item.is_active?t._e():i("span",{staticStyle:{color:"red"}},[i("i",{staticClass:"ion ion-md-remove-circle"})]),t._v(" "),e.item.is_active?i("span",{staticStyle:{color:"green"}},[i("i",{staticClass:"ion ion-md-add-circle"})]):t._e()])]}}])}),t._v(" "),i("div",{staticClass:"d-flex justify-content-between"},[i("div",[i("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t._v(" "),i("div",{staticClass:"text-muted"},[i("small",[t._v(" Total Formularios: "+t._s(this.totalRows)+" ")])])])],1)]),t._v(" "),i("div",{staticClass:"d-inline-block"},[i("sweet-modal",{ref:"errorWithButtonAlert",attrs:{icon:"error",title:"Borrar registro"}},[t._v("\n            ¿Está seguro que desea borrar el registro?\n            "),i("div",{staticClass:"w-100 text-center"},[t._v("\n                El registro será borrado de forma lógica, pero su información será visible en reportes. \n            ")]),t._v(" "),i("template",{slot:"button"},[i("b-btn",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:function(e){return t.deleteRecord()}}},[t._v("Eliminar")])],1),t._v(" "),i("template",{slot:"button"},[i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){t.closeDeleteRecord(),t.showFormulario=!0,t.deleteRecordField=!1,t.deleteForm=!1}}},[t._v("Cerrar")])],1)],2)],1),t._v(" "),i("b-modal",{staticClass:"modal-center",attrs:{id:"modals-top",size:"lg","no-close-on-backdrop":!0,"no-close-on-esc":!0,"hide-header-close":!0},model:{value:t.showFormulario,callback:function(e){t.showFormulario=e},expression:"showFormulario"}},[i("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[t._v("\n            Administrar "),i("span",{staticClass:"font-weight-light"},[t._v("Formularios")]),i("br")]),t._v(" "),i("h5",[t._v("Definición del Formulario")]),t._v(" "),i("b-row",[i("b-col",[i("b-form-group",{attrs:{label:"Nombre del Formulario",feedback:t.objState.message}},[i("b-input",{attrs:{placeholder:"Nombre Formulario",type:"text",state:""!=t.objState.description},on:{input:function(e){t.objState.description,t.objState.description=""==t.objInfo.description?"invalid":"valid"}},model:{value:t.objInfo.description,callback:function(e){t.$set(t.objInfo,"description","string"===typeof e?e.trim():e)},expression:"objInfo.description"}})],1)],1)],1),t._v(" "),i("b-row",[i("b-col",{staticClass:"text-right"},[i("label",{staticClass:"switcher switcher-success mt-2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.objInfo.is_active,expression:"objInfo.is_active"}],staticClass:"switcher-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.objInfo.is_active)?t._i(t.objInfo.is_active,null)>-1:t.objInfo.is_active},on:{change:function(e){var i=t.objInfo.is_active,o=e.target,a=!!o.checked;if(Array.isArray(i)){var s=null,l=t._i(i,s);o.checked?l<0&&t.$set(t.objInfo,"is_active",i.concat([s])):l>-1&&t.$set(t.objInfo,"is_active",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(t.objInfo,"is_active",a)}}}),t._v(" "),i("span",{staticClass:"switcher-indicator"},[i("span",{staticClass:"switcher-yes"},[i("span",{staticClass:"ion ion-md-checkmark"})]),t._v(" "),i("span",{staticClass:"switcher-no"},[i("span",{staticClass:"ion ion-md-close"})])]),t._v(" "),i("span",{staticClass:"switcher-label"},[t._v("Estado")])])])],1),t._v(" "),i("hr"),t._v(" "),i("h5",[t._v("Campos del Formulario")]),t._v(" "),i("div",{staticClass:"rounded mt-2"},[i("div",{staticClass:"ml-2 mr-2"},[i("b-row",[i("b-col",{attrs:{cols:"2"}},[i("b-form-group",{attrs:{label:"Seq",feedback:t.objStateField.field_id}},[i("b-input",{attrs:{placeholder:"Seq",required:"",state:0!=t.objStateField.field_sequence},on:{input:function(e){t.objStateField.field_sequence="invalid",t.objStateField.field_sequence=""==t.objField.field_sequence?"invalid":"valid"}},model:{value:t.objField.field_sequence,callback:function(e){t.$set(t.objField,"field_sequence","string"===typeof e?e.trim():e)},expression:"objField.field_sequence"}})],1)],1),t._v(" "),i("b-col",[i("b-form-group",{attrs:{label:"Identificador",feedback:t.objStateField.field_id}},[i("b-input",{attrs:{placeholder:"Identificador",disabled:t.showFormField,type:"text",required:"",state:""!=t.objStateField.field_id},on:{input:function(e){t.objStateField.field_id="invalid",t.objStateField.field_id=""==t.objField.field_id?"invalid":"valid"}},model:{value:t.objField.field_id,callback:function(e){t.$set(t.objField,"field_id","string"===typeof e?e.trim():e)},expression:"objField.field_id"}})],1)],1),t._v(" "),i("b-col",[i("b-form-group",{attrs:{label:"Adicionar nueva Etiqueta",feedback:t.objStateField.message}},[i("b-input",{attrs:{placeholder:"Nombre de etiqueta",type:"text",required:"",state:""!=t.objStateField.label},on:{input:function(e){t.objStateField.label="invalid",t.objStateField.label=""==t.objField.label?"invalid":"valid"}},model:{value:t.objField.label,callback:function(e){t.$set(t.objField,"label","string"===typeof e?e.trim():e)},expression:"objField.label"}})],1)],1),t._v(" "),i("b-col",[i("b-form-group",{attrs:{label:"Tipo",feedback:t.objStateField.message}},[i("b-form-select",{attrs:{options:t.typeOptions},model:{value:t.objField.type,callback:function(e){t.$set(t.objField,"type",e)},expression:"objField.type"}})],1)],1)],1)],1)]),t._v(" "),i("div",{staticClass:"text-right mb-2"},[t.showFormField?t._e():i("b-btn",{staticClass:"btn-md",attrs:{variant:"outline-success icon-btn"},on:{click:function(e){e.preventDefault(),t.addDataLabels(),t.objStateField={}}}},[i("i",{staticClass:"ion ion-md-add"})]),t._v(" "),t.showFormField?i("b-btn",{staticClass:"btn-md",attrs:{variant:"outline-warning icon-btn"},on:{click:function(e){e.preventDefault(),t.addDataLabels(),t.objStateField={}}}},[i("i",{staticClass:"ion ion-md-add"})]):t._e(),t._v(" "),i("b-btn",{staticClass:"btn-md",attrs:{variant:"outline-info icon-btn"},on:{click:function(e){e.preventDefault(),t.showFormField=!1,t.objField={}}}},[i("i",{staticClass:"ion ion-md-close"})]),t._v(" \n                    ")],1),t._v(" "),i("b-table",{attrs:{small:"","show-empty":"",stacked:"md",items:t.objInfo.fields,fields:t.formFields,"current-page":t.currentPageField,"per-page":t.perPageField,filter:t.filterField},on:{filtered:t.onFilteredField},scopedSlots:t._u([{key:"cell(edit)",fn:function(e){return[i("div",{staticClass:"text-left"},[i("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-success borderless icon-btn"},on:{click:function(i){return i.preventDefault(),t.data_changeField(e.item,"edit")}}},[i("i",{staticClass:"ion ion-md-create"})]),t._v(" "),i("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-danger borderless icon-btn"},on:{click:function(i){return i.preventDefault(),t.data_changeField(e.item,"delete")}}},[i("i",{staticClass:"ion ion-md-close"})])],1)]}},{key:"cell(is_active)",fn:function(e){return[i("div",{staticClass:"text-left"},[i("label",{staticClass:"switcher switcher-success mt-2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.item.is_active,expression:"row.item.is_active"}],staticClass:"switcher-input",attrs:{type:"checkbox",onclick:"return false"},domProps:{checked:Array.isArray(e.item.is_active)?t._i(e.item.is_active,null)>-1:e.item.is_active},on:{change:function(i){var o=e.item.is_active,a=i.target,s=!!a.checked;if(Array.isArray(o)){var l=null,n=t._i(o,l);a.checked?n<0&&t.$set(e.item,"is_active",o.concat([l])):n>-1&&t.$set(e.item,"is_active",o.slice(0,n).concat(o.slice(n+1)))}else t.$set(e.item,"is_active",s)}}}),t._v(" "),i("span",{staticClass:"switcher-indicator"},[i("span",{staticClass:"switcher-yes"},[i("span",{staticClass:"ion ion-md-checkmark"})]),t._v(" "),i("span",{staticClass:"switcher-no"},[i("span",{staticClass:"ion ion-md-close"})])]),t._v(" "),i("span",{staticClass:"switcher-label"})])])]}}])}),t._v(" "),i("b-row",[i("b-col",{staticClass:"my-1",attrs:{md:"3"}},[i("b-form-select",{attrs:{options:t.pageOptionsField},model:{value:t.perPageField,callback:function(e){t.perPageField=e},expression:"perPageField"}})],1),t._v(" "),i("b-col",{staticClass:"my-1",attrs:{md:"4"}},[i("div",{staticClass:"d-flex justify-content-between"},[i("b-pagination",{staticClass:"d-flex justify-content-center my-0",attrs:{"total-rows":t.totalRowsField,"per-page":t.perPageField},model:{value:t.currentPageField,callback:function(e){t.currentPageField=e},expression:"currentPageField"}})],1)]),t._v(" "),i("b-col",{staticClass:"my-1",attrs:{md:"4"}},[i("div",{staticClass:"text-muted"},[i("small",[t._v(" Total Campos: "+t._s(this.totalRowsField)+" ")])])])],1),t._v(" "),i("div",{staticClass:"w-100 text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("div",{staticClass:"d-flex justify-content-between"},[i("div",[i("b-btn",{attrs:{variant:"danger"},on:{click:function(e){t.showFormulario=!1,t.deleteForm=!0,t.$refs.errorWithButtonAlert.open()}}},[t._v("Eliminar")])],1),t._v(" "),i("div",[i("b-btn",{attrs:{variant:t.variantSaveButton},on:{click:function(e){return t.submit_form()}}},[t._v("Guardar")]),t._v(" "),i("b-btn",{attrs:{variant:"primary"},on:{click:function(e){t.cancel(),t.showFormulario=!1}}},[t._v("Cancelar")])],1)])])],1)],1)},a=[],s=(i("e01a"),i("4e82"),i("a434"),i("b0c0"),i("2b0e")),l=i("b0ae"),n=i("4265"),r=i("be23"),d=i("ee98"),c=i.n(d),f=i("9ce6"),b=i.n(f);s["default"].use(c.a);var u={metaInfo:{title:"Formularios"},components:{VueMarkdown:b.a,SweetModal:l["a"],SweetModalTab:l["b"]},data:function(){return{name:"um",version:"v1.0.0.0",contentWiki:"",anchorAttrs:{target:"_blank",rel:"noopener noreferrer nofollow"},currentPage:1,perPage:50,totalRows:0,pageOptions:[50,100,200],currentPageField:1,perPageField:50,totalRowsField:0,pageOptionsField:[50,100,200],typeOptions:["numero","texto","titulo"],filter:null,filterField:null,deleteRecordField:!1,deleteForm:!1,showFormulario:!1,showFormField:!1,showTooltip:!0,showForm1:!1,variantSaveButton:"success",disabledcode:!1,modified:!1,tableDataForm:[],columns:[{key:"description",label:"Nombre Formulario"},{key:"is_active",label:"Estado"},{key:"edit",label:"Editar"}],formFields:[{key:"field_sequence",label:"Seq"},{key:"field_id",label:"Codigo"},{key:"label",label:"Etiqueta"},{key:"type",label:"Tipo"},{key:"edit",label:"Editar/Eliminar"}],objInfo:{forms_id:0,is_active:!0,description:"",fields:[]},objState:{},objField:{field_id:"",field_order:0,label:"",type:""},objStateField:{},objStateFieldUpdate:{}}},methods:{restartInfo:function(){this.objInfo={forms_id:0,is_active:!0,description:"",fields:[]},this.objField={field_id:0,label:"",type:""}},openHelp:function(){var t=this;Object(r["a"])(this.version,this.name).then((function(e){t.contentWiki=e.data})).catch((function(e){t.contentWiki=e.data})),this.$refs.longModal.open()},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},onFilteredField:function(t){this.totalRowsField=t.length,this.currentPageField=1},showCustom:function(t,e,i){this.$notify({group:"notifications-default",type:t,title:e,text:i})},addData:function(){this.restartInfo(),this.showFormulario=!0},addDataLabels:function(){if(this.validate_content_field()){if(this.showFormField){for(var t=0;t<this.objInfo.fields.length;t++){this.objInfo.fields[t];this.objInfo.fields[t].field_id==this.objField.field_id&&(this.objInfo.fields[t]=this.objField)}this.objInfo.fields.push(""),this.objInfo.fields.pop()}else if(this.validate_content_field()){var e=JSON.parse(JSON.stringify(this.objField));this.objInfo.fields.push(e),this.objField={field_id:"",label:"",type:""}}this.objInfo.fields.sort((function(t,e){return t.field_order>e.field_order?1:e.field_order>t.field_order?-1:0}))}else this.showCustom("bg-danger text-white","Error","¡La Información esta Incompleta, Por Favor Valide!")},cancel:function(){this.restartInfo(),this.showForm1?this.showForm1=!1:this.showFormulario=!1},closeFormField:function(){this.showForm1=!1},closeDeleteRecord:function(){this.$refs.errorWithButtonAlert.close()},submit_form:function(){var t=this;this.validate_content()?n["a"].forms(this.objInfo,0===this.objInfo.forms_id||void 0===this.objInfo.forms_id?"insert":"update").then((function(e){202===e.status?t.showCustom("bg-danger text-white","Error","¡Error Guardando el Registro!"):(0===t.objInfo.forms_id?t.showCustom("bg-success text-white","Guardar registro","¡El registro se ha Guardado con Éxito!"):t.showCustom("bg-warning text-white","Modificar registro","¡El registro se ha Modificado con Éxito!"),t.showData(),t.cancel())})).catch((function(t){console.log(t.status)})):this.showCustom("bg-danger text-white","Error","¡La Información esta Incompleta, Por Favor Valide!")},deleteRecord:function(){var t=this;if(this.deleteForm)n["a"].forms(this.objInfo,"delete").then((function(e){202===e.status?t.showCustom("bg-danger text-white","Error","¡Error al Eliminar el Registro!"):(t.showCustom("bg-success text-white","Registro Eliminado","¡El Registro se ha Eliminado con Éxito!"),t.restartInfo()),t.dismissCountDown=t.dismissSecs,t.$refs.errorWithButtonAlert.close(),t.showFormulario=!1,t.showData()})).catch((function(t){console.log(t.status)}));else{for(var e=0;e<this.objInfo.fields.length;e++){this.objInfo.fields[e];this.objInfo.fields[e].field_id==this.objField.field_id&&this.objInfo.fields.splice(e,1)}this.objInfo.fields.sort((function(t,e){return t.field_order>e.field_order?1:e.field_order>t.field_order?-1:0})),this.showFormulario=!0,this.$refs.errorWithButtonAlert.close()}},showData:function(){var t=this;n["a"].forms([],"select").then((function(e){""!=e.data&&(t.tableDataForm=e.data,t.totalRows=t.tableDataForm.length)}))},data_change:function(t,e){this.variantSaveButton="warning",this.objInfo=t,"edit"===e?this.showFormulario=!0:this.$refs.errorWithButtonAlert.open()},data_changeField:function(t,e){this.variantSaveButton="warning",this.objField=JSON.parse(JSON.stringify(t)),"edit"===e?this.showFormField=!0:(this.showFormulario=!1,this.$refs.errorWithButtonAlert.open())},validate_content:function(){var t=!0;return this.objState={},this.objState.message="Este es un Campo Obligatorio",""==this.objInfo.description?(this.objState.description="invalid",t=!1):this.objState.description="valid",t},validate_content_field:function(){var t=!0;return this.objStateField={},this.objStateField.message="Este es un Campo Obligatorio",""==this.objField.field_id?(this.objStateField.field_id="invalid",t=!1):this.objStateField.field_id="valid",""==this.objField.label?(this.objStateField.label="invalid",t=!1):this.objStateField.label="valid",""==this.objField.type?(this.objStateField.type="invalid",t=!1):this.objStateField.type="valid",t}},created:function(){this.showData()}},m=u,h=(i("8e35"),i("d717"),i("2877")),v=Object(h["a"])(m,o,a,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-1e4ffd56.d63a20fe.js.map