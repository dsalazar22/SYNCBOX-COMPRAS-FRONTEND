{"version":3,"sources":["webpack:///./src/components/i40/js/trade.js","webpack:///./src/components/sbx/maintenance/compras.vue?f685","webpack:///src/components/sbx/maintenance/compras.vue","webpack:///./src/components/sbx/maintenance/compras.vue?969f","webpack:///./src/components/sbx/maintenance/compras.vue","webpack:///./src/vendor/libs/sweet-modal-vue/sweet-modal-vue.scss?2d3d","webpack:///./src/components/sbx/maintenance/compras.vue?8527"],"names":["axiosConfig","headers","localStorage","getItem","JSON","parse","token","infotrade","orders","info","actions","console","log","trade","axios","post","addheadorders","addorderdetails","gettrm","divisa","get","update_order_status","purchases","getcartera","deliveries","globalordersreport","quotcontroller","printOrders","url","method","data","request","responseType","sendMail","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","callback","$$v","filter","expression","on","$event","pageOptions","perPage","directives","name","rawName","domProps","Array","isArray","order_active","_i","ejecutar_cambio","$$a","$$el","target","$$c","checked","$$i","concat","slice","_s","modifiers","preventDefault","openHelp","cptItems","columnsCommercialsOrders","currentPage","onFiltered","totalRows","cntBlack","Math","round","staticStyle","class","style","width","String","cntDanger","cntWarning","cntSuccess","cntInfo","ref","contentWiki","anchorAttrs","staticRenderFns","component"],"mappings":"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","file":"js/chunk-3b755f3e.0a1bbf13.js","sourcesContent":["import axios from 'axios'\nimport {trade,pdfconn} from './globals'\nlet axiosConfig = {\n  headers: {\n    'Authorization': localStorage.getItem('syncbox.cloud') == null ? '' : JSON.parse(localStorage.getItem('syncbox.cloud')).token\n  }\n}\n\nvar infotrade = {\n  orders: function (info, actions) {\n    console.log( JSON.parse(localStorage.getItem('syncbox.cloud')).token)\n    console.log(trade)\n    return axios.post(trade + 'commercialsorders/' + actions, info, axiosConfig)\n  },\n\n  addheadorders: function (info, actions) {\n    return axios.post(trade + 'comercialordercontroller/' + actions, info, axiosConfig)\n  },\n  \n  addorderdetails: function (info, actions) {\n    return axios.post(trade + 'comercialorderdetailcontroller/' + actions, info, axiosConfig)\n  },\n\n  gettrm: function (divisa) {\n    return axios.get(trade + 'gettrm/' + divisa, axiosConfig)\n  },\n  \n  update_order_status: function (info, actions) {\n    return axios.post(trade + 'updateorderstatus', info, axiosConfig)\n  },\n\n  purchases: function (info, actions) {\n    return axios.post(trade + 'commercialpurchases/' + actions, info, axiosConfig)\n  },\n\n  getcartera: function (info, actions) {\n    return axios.get(trade + 'getoutstandinginvoices/' + actions+ '/' + info, axiosConfig)\n  },\n\n  deliveries: function (info, actions) {\n    return axios.post(trade + 'deliveries/' + actions,info, axiosConfig)\n  },\n\n  globalordersreport: function () {\n    return axios.get(trade + 'globalordersreport', axiosConfig)\n  },\n  quotcontroller: function (info, actions) {\n    return axios.post(trade + 'quotcontroller/' + actions, info, axiosConfig)\n  },\n\n  printOrders: function(info){\n    // return axios.post('http://localhost:3000/orders', info)\n    let url = 'http://localhost:3000/orders'\n    let method = \"POST\"\n    let data = info\n\n    return axios.request({\n      url,\n      method,\n      data,\n      responseType: 'blob', //important\n    })\n  },\n\n  sendMail: function (info) {\n    return axios.post('http://localhost:3000/orders', info, axiosConfig)\n  },\n}\n\nexport {\n  infotrade\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"font-weight-bold py-3 mb-0\"},[_vm._v(\" Tambor de Compras de Mantenimiento \")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('b-row',[_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"5\"}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"placeholder\":\"Buscar...\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_vm._v(\" \"),_c('b-input-group-append',[_c('b-btn',{attrs:{\"disabled\":!_vm.filter},on:{\"click\":function($event){_vm.filter = ''}}},[_c('span',{staticClass:\"oi oi-delete\"})])],1)],1)],1),_vm._v(\" \"),_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"5\"}},[_c('b-form-select',{attrs:{\"options\":_vm.pageOptions},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}})],1),_vm._v(\" \"),_c('b-col',{staticClass:\"d-flex justify-content-center my-1\",attrs:{\"md\":\"2\"}},[_c('label',{staticClass:\"switcher switcher-success mt-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order_active),expression:\"order_active\"}],staticClass:\"switcher-input\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.order_active)?_vm._i(_vm.order_active,null)>-1:(_vm.order_active)},on:{\"click\":function($event){return _vm.ejecutar_cambio()},\"change\":function($event){var $$a=_vm.order_active,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.order_active=$$a.concat([$$v]))}else{$$i>-1&&(_vm.order_active=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.order_active=$$c}}}}),_vm._v(\" \"),_c('span',{staticClass:\"switcher-indicator\"},[_c('span',{staticClass:\"switcher-yes\"},[_c('span',{staticClass:\"ion ion-md-checkmark\"})]),_vm._v(\" \"),_c('span',{staticClass:\"switcher-no\"},[_c('span',{staticClass:\"ion ion-md-close\"})])]),_vm._v(\" \"),_c('span',{staticClass:\"switcher-label\"},[_vm._v(_vm._s(_vm.order_active ? \"Activas\" : \"Cerradas\"))])]),_vm._v(\" \"),_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modals-default\",modifiers:{\"modals-default\":true}}],staticClass:\"btn-md\",attrs:{\"variant\":\"outline-info icon-btn\"},on:{\"click\":function($event){$event.preventDefault();return _vm.openHelp($event)}}},[_c('i',{staticClass:\"fas fa-chalkboard-teacher\"})])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-responsive\"},[_c('b-table',{attrs:{\"small\":\"\",\"tbody-class\":\"h6 font-weight-normal\",\"show-empty\":\"\",\"hover\":\"\",\"responsive\":\"\",\"stacked\":\"sm\",\"items\":_vm.cptItems,\"fields\":_vm.columnsCommercialsOrders,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"filter\":_vm.filter},on:{\"filtered\":_vm.onFiltered}})],1),_vm._v(\" \"),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',[_c('b-pagination',{staticClass:\"my-0\",attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"w-25\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\" Total Compras: \"+_vm._s(_vm.totalRows)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"small\"},[_vm._v(\"\\n                                Buffer Compras \"),_c('div',{staticClass:\"float-right\"},[_vm._v(\" \"+_vm._s(_vm.cntBlack)+\" de \"+_vm._s(_vm.totalRows)+\" (\"+_vm._s(Math.round((_vm.cntBlack/_vm.totalRows)*100))+\"%)\")])]),_vm._v(\" \"),_c('div',{staticClass:\"progress mb-1\",staticStyle:{\"height\":\"4px\"}},[_c('div',{class:{'progress-bar':true, 'bg-dark':true},style:({width: String((_vm.cntBlack/_vm.totalRows)*100)+'%' })})]),_vm._v(\" \"),_c('div',{staticClass:\"small\"},[_vm._v(\"\\n                                Buffer Compras \"),_c('div',{staticClass:\"float-right\"},[_vm._v(\" \"+_vm._s(_vm.cntDanger)+\" de \"+_vm._s(_vm.totalRows)+\" (\"+_vm._s(Math.round((_vm.cntDanger/_vm.totalRows)*100))+\"%)\")])]),_vm._v(\" \"),_c('div',{staticClass:\"progress mb-1\",staticStyle:{\"height\":\"4px\"}},[_c('div',{class:{'progress-bar':true, 'bg-danger':true},style:({width: String((_vm.cntDanger/_vm.totalRows)*100)+'%' })})]),_vm._v(\" \"),_c('div',{staticClass:\"small\"},[_vm._v(\"\\n                                Buffer Compras \"),_c('div',{staticClass:\"float-right\"},[_vm._v(\" \"+_vm._s(_vm.cntWarning)+\" de \"+_vm._s(_vm.totalRows)+\" (\"+_vm._s(Math.round((_vm.cntWarning/_vm.totalRows)*100))+\"%)\")])]),_vm._v(\" \"),_c('div',{staticClass:\"progress mb-1\",staticStyle:{\"height\":\"4px\"}},[_c('div',{class:{'progress-bar':true, 'bg-warning':true},style:({width: String((_vm.cntWarning/_vm.totalRows)*100)+'%' })})]),_vm._v(\" \"),_c('div',{staticClass:\"small\"},[_vm._v(\"\\n                                Buffer Compras \"),_c('div',{staticClass:\"float-right\"},[_vm._v(\" \"+_vm._s(_vm.cntSuccess)+\" de \"+_vm._s(_vm.totalRows)+\" (\"+_vm._s(Math.round((_vm.cntSuccess/_vm.totalRows)*100))+\"%)\")])]),_vm._v(\" \"),_c('div',{staticClass:\"progress mb-1\",staticStyle:{\"height\":\"4px\"}},[_c('div',{class:{'progress-bar':true, 'bg-success':true},style:({width: String((_vm.cntSuccess/_vm.totalRows)*100)+'%' })})]),_vm._v(\" \"),_c('div',{staticClass:\"small\"},[_vm._v(\"\\n                                Buffer Compras \"),_c('div',{staticClass:\"float-right\"},[_vm._v(\" \"+_vm._s(_vm.cntInfo)+\" de \"+_vm._s(_vm.totalRows)+\" (\"+_vm._s(Math.round((_vm.cntInfo/_vm.totalRows)*100))+\"%)\")])]),_vm._v(\" \"),_c('div',{staticClass:\"progress mb-1\",staticStyle:{\"height\":\"4px\"}},[_c('div',{class:{'progress-bar':true, 'bg-info':true},style:({width: String((_vm.cntInfo/_vm.totalRows)*100)+'%' })})])])])],1),_vm._v(\" \"),_c('sweet-modal',{ref:\"longModal\"},[_c('div',{staticClass:\"text-left\"},[_c('vue-markdown',{attrs:{\"source\":_vm.contentWiki,\"anchor-attributes\":_vm.anchorAttrs}})],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<!-- :fields=\"columns\" -->\n    <div>\n        <h4 class=\"font-weight-bold py-3 mb-0\"> Tambor de Compras de Mantenimiento </h4>\n\n        <div class=\"row\">\n            <div class=\"col\">\n                <!-- OPCIONES DE BUSQUEDA Y BOTONES PARA CREAR NUEVOS REGISTROS -->\n            <b-row>\n\n                <!-- ESTE ES EL BUSCADOR Y EL BOTON PARA BORRAR -->\n                <b-col md=\"5\" class=\"my-1\">\n                    <b-input-group>\n                        <b-form-input v-model=\"filter\" placeholder=\"Buscar...\" />\n                        <b-input-group-append>\n                        <b-btn :disabled=\"!filter\" @click=\"filter = ''\"> <span class=\"oi oi-delete\" ></span> </b-btn>\n                        </b-input-group-append>\n                    </b-input-group>\n                </b-col>\n                <!-- ESTE ES EL BUSCADOR Y EL BOTON PARA BORRAR -->\n\n                <!-- ESTE ES EL PAGINADOR -->\n                <b-col md=\"5\" class=\"my-1\">\n                    <b-form-select :options=\"pageOptions\" v-model=\"perPage\" />\n                </b-col>\n                <!-- ESTE ES EL PAGINADOR -->\n\n                <!-- BOTONES PARA CREAR NUEVOS REGISTROS Y PARA OPCION DE AYUDA -->\n                <b-col md=\"2\" class=\"d-flex justify-content-center my-1\">\n                    <label class=\"switcher switcher-success mt-2\">\n                        <input type=\"checkbox\" class=\"switcher-input\"  v-model=\"order_active\" @click=\"ejecutar_cambio()\">\n                        <span class=\"switcher-indicator\">\n                        <span class=\"switcher-yes\"><span class=\"ion ion-md-checkmark\"></span></span>\n                        <span class=\"switcher-no\"><span class=\"ion ion-md-close\"></span></span>\n                        </span>\n                        <span class=\"switcher-label\">{{order_active ? \"Activas\" : \"Cerradas\"}}</span>\n                    </label>\n                    <b-btn variant=\"outline-info icon-btn\" class=\"btn-md\"  v-b-modal.modals-default @click.prevent=\"openHelp\"><i class=\"fas fa-chalkboard-teacher\"></i></b-btn>\n                </b-col>\n                <!-- BOTONES PARA CREAR NUEVOS REGISTROS Y PARA OPCION DE AYUDA -->\n            </b-row>\n            <!-- OPCIONES DE BUSQUEDA Y BOTONES PARA CREAR NUEVOS REGISTROS -->\n\n\n                <div class=\"table-responsive\" > \n                    <b-table small tbody-class=\"h6 font-weight-normal\" show-empty hover responsive stacked=\"sm\" :items=\"cptItems\"  :fields=\"columnsCommercialsOrders\" :current-page=\"currentPage\" :per-page=\"perPage\" :filter=\"filter\" @filtered=\"onFiltered\">\n                        <!-- <template slot=\"visible_buffer\" slot-scope=\"props\">\n                                {{props.item}}\n                            </template> -->\n                    </b-table>\n                </div>\n                <div class=\"d-flex justify-content-between\">\n                    <div>\n                        <b-pagination :total-rows=\"totalRows\" :per-page=\"perPage\" v-model=\"currentPage\" class=\"my-0\" />\n                    </div>\n                    <div  class=\"w-25\">\n                        <small class=\"text-muted\"> Total Compras: {{totalRows}} </small>\n                           <div class=\"small\">\n                                Buffer Compras <div class=\"float-right\"> {{cntBlack}} de {{totalRows}} ({{Math.round((cntBlack/totalRows)*100)}}%)</div>\n                            </div>\n                            <div class=\"progress mb-1\" style=\"height: 4px;\">\n                                <div :class=\"{'progress-bar':true, 'bg-dark':true}\" :style=\"{width: String((cntBlack/totalRows)*100)+'%' }\"></div>\n                            </div>\n\n                            <div class=\"small\">\n                                Buffer Compras <div class=\"float-right\"> {{cntDanger}} de {{totalRows}} ({{Math.round((cntDanger/totalRows)*100)}}%)</div>\n                            </div>\n                            <div class=\"progress mb-1\" style=\"height: 4px;\">\n                                <div :class=\"{'progress-bar':true, 'bg-danger':true}\" :style=\"{width: String((cntDanger/totalRows)*100)+'%' }\"></div>\n                            </div>\n\n                            <div class=\"small\">\n                                Buffer Compras <div class=\"float-right\"> {{cntWarning}} de {{totalRows}} ({{Math.round((cntWarning/totalRows)*100)}}%)</div>\n                            </div>\n                            <div class=\"progress mb-1\" style=\"height: 4px;\">\n                                <div :class=\"{'progress-bar':true, 'bg-warning':true}\" :style=\"{width: String((cntWarning/totalRows)*100)+'%' }\"></div>\n                            </div>\n                                        <div class=\"small\">\n                                Buffer Compras <div class=\"float-right\"> {{cntSuccess}} de {{totalRows}} ({{Math.round((cntSuccess/totalRows)*100)}}%)</div>\n                            </div>\n                            <div class=\"progress mb-1\" style=\"height: 4px;\">\n                                <div :class=\"{'progress-bar':true, 'bg-success':true}\" :style=\"{width: String((cntSuccess/totalRows)*100)+'%' }\"></div>\n                            </div>\n                                        <div class=\"small\">\n                                Buffer Compras <div class=\"float-right\"> {{cntInfo}} de {{totalRows}} ({{Math.round((cntInfo/totalRows)*100)}}%)</div>\n                            </div>\n                            <div class=\"progress mb-1\" style=\"height: 4px;\">\n                                <div :class=\"{'progress-bar':true, 'bg-info':true}\" :style=\"{width: String((cntInfo/totalRows)*100)+'%' }\"></div>\n                            </div>\n                            <!-- <div class=\"small\">\n                                Número de Centros de Trabajo <div class=\"float-right\"> {{centrosTrabajo.length}} de {{numeroEquipos}} ({{Math.round((centrosTrabajo.length/numeroEquipos)*100)}}%)</div>\n                            </div>\n                            <div class=\"progress mb-3\" style=\"height: 4px;\">\n                                <div :class=\"{'progress-bar':true, 'bg-danger':((centrosTrabajo.length/numeroEquipos)*100)>=80, 'bg-success':((centrosTrabajo.length/numeroEquipos)*100)<80}\" :style=\"{width: String((centrosTrabajo.length/numeroEquipos)*100)+'%' }\"></div>\n                            </div>\n\n                            <div class=\"small\">\n                                Número de Dispositvos <div class=\"float-right\"> {{dispositivos.length}} de {{numeroDispositivos}} ({{Math.round((dispositivos.length/numeroDispositivos)*100)}}%)</div>\n                            </div>\n                            <div class=\"progress mb-3\" style=\"height: 4px;\">\n                                <div :class=\"{'progress-bar':true, 'bg-danger':((dispositivos.length/numeroDispositivos)*100)>=80, 'bg-success':((dispositivos.length/numeroDispositivos)*100)<80}\" :style=\"{width: String((dispositivos.length/numeroDispositivos)*100)+'%' }\"></div>\n                            </div>\n\n                            <div class=\"small\">\n                                Número de Tags <div class=\"float-right\"> {{variablesDispositivosUsers.length}} de {{tagsAutorizados}} ({{Math.round((variablesDispositivosUsers.length/tagsAutorizados)*100)}}%)</div>\n                            </div>\n                            <div class=\"progress mb-3\" style=\"height: 4px;\">\n                                <div :class=\"{'progress-bar':true, 'bg-danger':((variablesDispositivosUsers.length/tagsAutorizados)*100)>=80, 'bg-success':((variablesDispositivosUsers.length/tagsAutorizados)*100)<80}\" :style=\"{width: String((variablesDispositivosUsers.length/tagsAutorizados)*100)+'%' }\"></div>\n                            </div> -->\n\n                    </div>\n                </div>\n            </div>\n            <sweet-modal ref=\"longModal\">\n            <div class=\"text-left\">\n                <vue-markdown :source=\"contentWiki\" :anchor-attributes=\"anchorAttrs\"></vue-markdown>\n            </div>\n        </sweet-modal>\n        </div>\n    </div>\n</template>\n        <style src=\"@/vendor/libs/sweet-modal-vue/sweet-modal-vue.scss\" lang=\"scss\"></style>\n<script>\nimport { infotrade } from \"@/components/i40/js/trade\";\nimport VueMarkdown from 'vue-markdown'\nimport { SweetModal, SweetModalTab } from 'sweet-modal-vue'\nimport { ApiWikiHelp } from \"@/vendor/sbx/sbx-cloud/cloud_apiwiki\";\nexport default {\n    \n    metaInfo: {\n       title: 'Tambor de Compras'\n    },\n    components: {\n    \n        VueMarkdown,\n        SweetModal,\n        SweetModalTab\n\n        },\n        computed: {\n            cptItems(){\n            return this.tableCommercialsOrders.map((item)=>{\n                let tmp=item;\n                let color=''\n                \n                if(tmp.visible_buffer>100){\n                    color = 'dark'\n                }\n                else if(tmp.visible_buffer<=100 && tmp.visible_buffer>66){\n                    color = 'danger'\n                }\n                else if(tmp.visible_buffer<=66 && tmp.visible_buffer>33){\n                    color = 'warning'\n                }\n                else if(tmp.visible_buffer<=33 && tmp.visible_buffer>=0){\n                    color = 'success'\n                }else{\n                    color='info'\n                }\n\n\n                tmp._cellVariants = {visible_buffer: color};\n                return tmp;\n            })  \n        }\n    },\n    data() {\n        return {\n            order_active : true,\n            name: 'purchases',\n            version: 'v1.0.0.0',\n            contentWiki: \"\",\n            cntBlack:0,\n            cntDanger:0,\n            cntWarning:0,\n            cntSuccess:0,\n            cntInfo:0,\n            tableCommercialsOrders:[],\n            columnsCommercialsOrders: [\n        \n\n                    ///Este objeto es fijo en caso de que se necesite modificar la info\n                    // {key:' id_workplace', label:\"id_workplace\", thClass: 'd-none', tdClass: 'd-none'},\n                    // {key:' workstation_type_id', label:\"workstation_type_id\", thClass: 'd-none', tdClass: 'd-none'},\n                    {key:'visible_buffer', label:\"Buffer\"},\n                    {key:'code_status', label:\"Estado\"},\n                    {key:'product_code', label:\"Código\"},\n                    {key:'product_description', label:\"Descripción\"},\n                    {key:'supplier_name', label:\"Proveedor\"},\n                    {key:'requested_amount', label:\"Pedida\"},\n                    {key:'delivered_quantity', label:\"Entregada\"},\n                    {key:'pending_amount', label:\"Pendiente\"},\n                    {key:'order_created', label:\"Ingreso\"},\n                    {key:'deadline', label:\"Fecha Comprometida\"},\n                    \n                    // {key:'wsplant', label:\"Planta\"},\n                    // {key:'wsgroup', label:\"Grupo\"},\n                    // {key:'wstype', label:\"Tipo\"},\n                    // {key:'edit', label:\"Edit\"}\n                ],\n\n            ///Info de filtro y paginas para la tabla\n                currentPage: 1,\n                perPage: 50,\n                totalRows: 0,\n                pageOptions: [ 50, 100, 200 ],\n                filter: null,\n            ///Info de filtro y paginas para la tabla\n\n            contentWiki: \"\",\n            anchorAttrs: {\n                target: '_blank',\n                rel: 'noopener noreferrer nofollow'\n            },\n        }\n    \n    },\n    methods: {\n         ejecutar_cambio(){\n\n\n            infotrade.purchases([],\"select-active-\"+!this.order_active).then(data =>{\n                this.tableCommercialsOrders = data.data\n            })\n\n            // console.log(\"select-active-\"+!this.order_active)\n        },\n         ///Funcion para cargar la ayuda del helper\n             openHelp: function(){\n                //  this.contentWiki = \"# FFFF\"\n                ApiWikiHelp(this.version, this.name).then(data => {\n                    this.contentWiki = data.data\n                })\n                .catch(data =>{\n                    this.contentWiki = data.data\n                })\n                this.$refs.longModal.open()\n            },\n        ///Funcion para cargar la ayuda del helper\n        loadCommercialsOrders(){\n            infotrade.purchases([],\"select-active-true\").then(data =>{\n                this.tableCommercialsOrders = data.data\n            })\n        },\n\n        onFiltered (filteredItems) {\n                this.totalRows = filteredItems.length\n                this.currentPage = 1\n\n                this.cntBlack = 0\n                this.cntDanger = 0\n                this.cntWarning = 0\n                this.cntSuccess = 0\n                this.cntInfo = 0\n\n                for (let index = 0; index < filteredItems.length; index++) {\n                    const element = filteredItems[index];\n\n                    if(element._cellVariants.visible_buffer === \"dark\"){\n                        this.cntBlack = this.cntBlack+1\n                    }\n                    else if(element._cellVariants.visible_buffer === \"danger\"){\n                        this.cntDanger = this.cntDanger+1\n                    }\n                    else if(element._cellVariants.visible_buffer === \"warning\"){\n                        this.cntWarning = this.cntWarning+1\n                    }\n                    else if(element._cellVariants.visible_buffer === \"success\"){\n                        this.cntSuccess = this.cntSuccess+1\n                    }else{\n                        this.cntInfo = this.cntInfo+1\n                    }\n                    \n                }\n\n            },\n    },\n    created(){\n        // this.loadCommercialsOrders()\n    },\n    beforeCreate(){\n        \n    }\n}\n</script>\n\n<style>\n    .font-table {font-size: 12px;}\n    .table .table-warning, .table .table-warning > th, .table .table-warning > td {\n        border-color: rgba(0, 0, 0, 0.035) !important;\n        background-color: #ffff00;\n        color: #292b2c;\n    }\n    .table .table-dark, .table .table-dark > th, .table .table-warning > td {\n        border-color: rgba(0, 0, 0, 0.035) !important;\n        background-color: #292b2c;\n        color: #f7f7f7;\n    }\n    .table .table-danger, .table .table-danger > th, .table .table-warning > td {\n        border-color: rgba(0, 0, 0, 0.035) !important;\n        background-color: #d9534f;\n        color: #f7f7f7;\n    }\n    .table .table-success, .table .table-success > th, .table .table-warning > td {\n        border-color: rgba(0, 0, 0, 0.035) !important;\n        background-color: #5cb85c;\n        color: #f7f7f7;\n    }\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compras.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compras.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./compras.vue?vue&type=template&id=027a155d&\"\nimport script from \"./compras.vue?vue&type=script&lang=js&\"\nexport * from \"./compras.vue?vue&type=script&lang=js&\"\nimport style0 from \"@/vendor/libs/sweet-modal-vue/sweet-modal-vue.scss?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./compras.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./sweet-modal-vue.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./sweet-modal-vue.scss?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compras.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compras.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}