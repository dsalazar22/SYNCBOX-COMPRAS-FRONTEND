(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-437cb12e"],{"3b30":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("notifications",{attrs:{group:"notifications-default"}}),e._v(" "),r("h4",{staticClass:"font-weight-bold py-3 mb-4"},[e._v("\n    Editar Usuario "),r("span",{staticClass:"text-muted"},[e._v(e._s(e.userInfo.user))])]),e._v(" "),r("b-tabs",{staticClass:"nav-tabs-top nav-responsive-sm"},[r("b-tab",{attrs:{title:"Crear Perfil",active:""}},[r("b-card-body"),e._v(" "),r("hr",{staticClass:"border-light m-0"}),e._v(" "),r("b-card-body",{staticClass:"pb-2"},[r("b-form-group",{attrs:{label:"Usuario"}},[r("b-input",{attrs:{disabled:null!=e.$route.params["id"]},model:{value:e.userInfo.username,callback:function(t){e.$set(e.userInfo,"username",t)},expression:"userInfo.username"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Nombre"}},[r("b-input",{model:{value:e.userInfo.name,callback:function(t){e.$set(e.userInfo,"name",t)},expression:"userInfo.name"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Apellido"}},[r("b-input",{staticClass:"mb-1",model:{value:e.userInfo.lastname,callback:function(t){e.$set(e.userInfo,"lastname",t)},expression:"userInfo.lastname"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Email"}},[r("b-input",{staticClass:"mb-1",model:{value:e.userInfo.email,callback:function(t){e.$set(e.userInfo,"email",t)},expression:"userInfo.email"}})],1),e._v(" "),null==e.$route.params["id"]?r("b-form-group",{attrs:{label:"Password"}},[r("b-input",{attrs:{type:"password"},model:{value:e.userInfo.password,callback:function(t){e.$set(e.userInfo,"password",t)},expression:"userInfo.password"}})],1):e._e(),e._v(" "),null!=e.$route.params["id"]?r("b-form-group",{attrs:{label:"Password"}},[r("b-input-group",[r("b-form-input",{attrs:{type:"password"},model:{value:e.userInfo.reset_password,callback:function(t){e.$set(e.userInfo,"reset_password",t)},expression:"userInfo.reset_password"}}),e._v(" "),r("b-input-group-append",[r("b-button",{attrs:{variant:"warning"},on:{click:function(t){return e.reset_password()}}},[e._v("Cambiar Contraseña")])],1)],1)],1):e._e()],1),e._v(" "),r("hr",{staticClass:"border-light m-0"}),e._v(" "),r("hr",{staticClass:"border-light m-0"}),e._v(" "),null!=e.$route.params["id"]?r("div",{staticClass:"table-responsive"},[r("b-table",{staticClass:"card-table m-0",attrs:{disabled:!0,fields:e.userData.title_permissions,items:e.userData.permissions},scopedSlots:e._u([{key:"cell(module)",fn:function(t){return[r("div",{class:{"font-weight-bold":null==t.item.read&&null==t.item.write}},[e._v("\n              "+e._s(t.item.module)+"\n            ")])]}},{key:"cell(read)",fn:function(t){return[null==t.item.read||["start_multiple","stop_multiple","start_order","stop_order","report_unities","change_state_workstation"].includes(t.item.opcion)?e._e():r("b-check",{staticClass:"px-2 m-0",on:{change:function(r){return e.clic_read(t)}},model:{value:t.item.read,callback:function(r){e.$set(t.item,"read",r)},expression:"data.item.read"}})]}},{key:"cell(write)",fn:function(t){return[null!=t.item.write?r("b-check",{staticClass:"px-2 m-0",on:{change:function(r){return e.clic_write(t)}},model:{value:t.item.write,callback:function(r){e.$set(t.item,"write",r)},expression:"data.item.write"}}):e._e()]}},{key:"cell(create)",fn:function(t){return[null==t.item.create||["start_multiple","stop_multiple","start_order","stop_order","report_unities","change_state_workstation"].includes(t.item.opcion)?e._e():r("b-check",{staticClass:"px-2 m-0",on:{change:function(r){return e.clic_create(t)}},model:{value:t.item.create,callback:function(r){e.$set(t.item,"create",r)},expression:"data.item.create"}})]}},{key:"cell(delete)",fn:function(t){return[null==t.item.delete||["start_multiple","stop_multiple","start_order","stop_order","report_unities","change_state_workstation"].includes(t.item.opcion)?e._e():r("b-check",{staticClass:"px-2 m-0",on:{change:function(r){return e.clic_delete(t)}},model:{value:t.item.delete,callback:function(r){e.$set(t.item,"delete",r)},expression:"data.item.delete"}})]}}],null,!1,1023274145)})],1):e._e()],1),e._v(" "),e._e()],1),e._v(" "),r("div",{staticClass:"text-right mt-3"},[r("b-btn",{attrs:{variant:"primary"},on:{click:e.save_info}},[e._v("Guardar")]),e._v(" \n    "),r("b-btn",{attrs:{variant:"default"}},[e._v("Cancelar")])],1)],1)},a=[],i=(r("b0c0"),r("d3b7"),r("25f0"),r("ade3")),s=r("2b0e"),n=r("48fc"),d=r("6233"),c=r("ee98"),l=r.n(c);s["default"].use(l.a);var u={name:"user_edit",metaInfo:{title:"Editar Usuario"},components:{},data:function(){var e;return{userInfo:{},userData:{title_permissions:[{key:"module",label:"Módulo"},{key:"read",label:"Leer"},{key:"write",label:"Escribir"},{key:"create",label:"Crear"},{key:"delete",label:"Eliminar"}],specific_permissions:[(e={key:"option",label:"Opción"},Object(i["a"])(e,"key","edit"),Object(i["a"])(e,"label","Si"),e)],permissions:[{module:"Informes"},{opcion:"show_gerencial",module:"Reporte Gerencial",read:!1,write:!1,create:!1,delete:!1},{opcion:"show_comm",module:"Reporte Comercial",read:!1,write:!1,create:!1,delete:!1},{opcion:"show_cap",module:"Reporte Capacidades",read:!1,write:!1,create:!1,delete:!1},{module:"Tambor"},{opcion:"drump_production",module:"Tambor de producción",read:!1,write:!1,create:!1,delete:!1},{opcion:"drump_commercial",module:"Tambor de Pedidos",read:!1,write:!1,create:!1,delete:!1},{opcion:"drump_purchase",module:"Tambor de Compras",read:!1,write:!1,create:!1,delete:!1},{module:"Planeación"},{opcion:"planning_resources",module:"Planeación de Recursos",read:!1,write:!1,create:!1,delete:!1},{opcion:"planning_online",module:"Inventario en linea",read:!1,write:!1,create:!1,delete:!1},{opcion:"planning_order",module:"Crear/Editar Orden",read:!1,write:!1,create:!1,delete:!1},{module:"Productos"},{opcion:"products_route",module:"Ruta de Productos",read:!1,write:!1,create:!1,delete:!1},{opcion:"products_fammily",module:"Familia de Productos",read:!1,write:!1,create:!1,delete:!1},{opcion:"products_products",module:"Productos",read:!1,write:!1,create:!1,delete:!1},{module:"Operaciones"},{opcion:"operations_tools",module:"Herramentales",read:!1,write:!1,create:!1,delete:!1},{opcion:"operations_plants",module:"plantas",read:!1,write:!1,create:!1,delete:!1},{opcion:"operations_workstation_groups",module:"Grupos Centros de Trabajo",read:!1,write:!1,create:!1,delete:!1},{opcion:"operations_workstation",module:"Centros de Trabajo",read:!1,write:!1,create:!1,delete:!1},{opcion:"operations_process",module:"Definición de Procesos",read:!1,write:!1,create:!1,delete:!1},{opcion:"Control de Piso",module:"Control de Piso"},{opcion:"floor_stopcode",module:"Código de Paro",read:!1,write:!1,create:!1,delete:!1},{opcion:"floor_root",module:"Códigos Causa Raiz",read:!1,write:!1,create:!1,delete:!1},{opcion:"floor_scrap",module:"Códigos de Defectos",read:!1,write:!1,create:!1,delete:!1},{opcion:"floor_tags",module:"Configuracíon Tags",read:!1,write:!1,create:!1,delete:!1},{module:"Capacidades"},{opcion:"capacity_holidays",module:"Festivos",read:!1,write:!1,create:!1,delete:!1},{opcion:"capacity_capacity",module:"Capacidades",read:!1,write:!1,create:!1,delete:!1},{opcion:"capacity_calendar",module:"Calendario",read:!1,write:!1,create:!1,delete:!1},{opcion:"Generales",module:"Generales"},{opcion:"general_customer",module:"Clientes",read:!1,write:!1,create:!1,delete:!1},{opcion:"general_providers",module:"Proveedores",read:!1,write:!1,create:!1,delete:!1},{module:"Administración"},{opcion:"admin_um",module:"Unidad de Medidas",read:!1,write:!1,create:!1,delete:!1},{opcion:"admin_tools_type",module:"Tipos de Herramentales",read:!1,write:!1,create:!1,delete:!1},{opcion:"admin_workstation_type",module:"Tipos Centros de Trabajo",read:!1,write:!1,create:!1,delete:!1},{opcion:"admin_document_status",module:"Estado de Documentos",read:!1,write:!1,create:!1,delete:!1},{opcion:"admin_documents_types",module:"Tipo de Documentos",read:!1,write:!1,create:!1,delete:!1},{opcion:"admin_funcitonal_area",module:"Áreas Funcionales",read:!1,write:!1,create:!1,delete:!1},{opcion:"admin_personal",module:"Personal",read:!1,write:!1,create:!1,delete:!1},{module:"Costos"},{opcion:"costs_opr",module:"Costos Operacion",read:!1,write:!1,create:!1,delete:!1},{opcion:"costs_cnfg",module:"Costos Configuracion",read:!1,write:!1,create:!1,delete:!1},{module:"Usuarios"},{opcion:"users",module:"Lista de Usuarios",read:!1,write:!1,create:!1,delete:!1},{opcion:"users_edit",module:"Editar Usuarios",read:!1,write:!1,create:!1,delete:!1},{module:"Menu Comercial"},{opcion:"tmb_visual_comm",module:"Tambor Comercial - Visual Comercial",read:!1,write:!1,create:!1,delete:!1},{opcion:"cot_comm",module:"Listado de Cotizaciones",read:!1,write:!1,create:!1,delete:!1},{opcion:"new_order_comm",module:"Nuevo Pedido",read:!1,write:!1,create:!1,delete:!1},{opcion:"new_quot_comm",module:"Nueva Cotizacion",read:!1,write:!1,create:!1,delete:!1},{opcion:"liberar_comm",module:"Liberar Pedidos",read:!1,write:!1,create:!1,delete:!1},{opcion:"appr_comm",module:"Aprobar Pedidos",read:!1,write:!1,create:!1,delete:!1},{opcion:"bill_comm",module:"Cartera",read:!1,write:!1,create:!1,delete:!1},{module:"Información de SyncBox"},{opcion:"admin_services",module:"Administración de Procesos",read:!1,write:!1,create:!1,delete:!1},{opcion:"info_check",module:"Diagnostico",read:!1,write:!1,create:!1,delete:!1},{opcion:"info_licence",module:"Licencia",read:!1,write:!1,create:!1,delete:!1},{module:"Acciones Producción"},{opcion:"report_manual_tac",module:"Reporte de Produccion TAC",read:!1,write:!1,create:!1,delete:!1},{opcion:"start_order",module:"Iniciar Orden de Producción",read:!1,write:!1,create:!1,delete:!1},{opcion:"stop_order",module:"Finalizar Orden de Producción",read:!1,write:!1,create:!1,delete:!1},{opcion:"change_state_workstation",module:"Cambiar de Estado la Máquina",read:!1,write:!1,create:!1,delete:!1},{opcion:"report_unities",module:"Reportar Ordenes de Producción",read:!1,write:!1,create:!1,delete:!1},{opcion:"stop_multiple",module:"Detener Multiples Ordenes de Produccion",read:!1,write:!1,create:!1,delete:!1},{opcion:"start_multiple",module:"Iniciar Multiples Ordenes de Producción",read:!1,write:!1,create:!1,delete:!1},{opcion:"edit_control_vars",module:"Editar Variables Configuradas en Maquina",read:!1,write:!1,create:!1,delete:!1}],serverCode:0}}},methods:{showCustom:function(e,t,r){this.$notify({group:"notifications-default",type:e,title:t,text:r})},clic_read:function(e){null!=e.item.read&&(e.item.write=!1,e.item.delete=!1,e.item.create=!1)},clic_write:function(e){e.item.write||null!=e.item.read&&(e.item.read=!0)},clic_create:function(e){e.item.create||null!=e.item.read&&(e.item.read=!0)},clic_delete:function(e){e.item.delete||null!=e.item.read&&(e.item.read=!0)},save_info:function(){var e=this,t={InfoUser:this.userInfo,InfoAccess:this.userData.permissions};null!=this.$route.params["id"]?n["a"].updateinfousers(t,this.serverCode).then((function(t){e.showCustom("bg-success text-white","Guardar registro","¡El registro se ha Guardado con Éxito!")})):n["a"].newlocaluser({user:this.userInfo.username,password:this.userInfo.password,name:this.userInfo.name,lastname:this.userInfo.lastname,email:this.userInfo.email},this.serverCode).then((function(t){""!=t.data&&e.$router.push(e.$route.query.redirect||"/users/users_list")}))},reset_password:function(){var e=this,t={NewPassword:this.userInfo.reset_password,CodeUser:this.$route.params["id"]};n["a"].resetpassword(t).then((function(t){e.showCustom("bg-success text-white","Guardar registro","¡El registro se ha Guardado con Éxito!")}))},addMusicTag:function(e){this.userData.info.music.push(e)},addMovieTag:function(e){this.userData.info.movies.push(e)}},created:function(){var e=this;Object(d["a"])().then((function(t){e.serverCode=t.data.NumeroValidacion,null!=e.$route.params["id"]&&n["a"].getinfouser(e.$route.params["id"],e.serverCode).then((function(t){e.userInfo=JSON.parse(t.data)[0].infouser[0];for(var r=JSON.parse(t.data)[0].accessdetails,o=0;o<r.length;o++)for(var a=r[o],i=0;i<e.userData.permissions.length;i++){var s=e.userData.permissions[i];if(a.code_option_id==s.opcion&&a.access_type>=1e3){var n=a.access_type.toString();e.userData.permissions[i].read=1==n[0],e.userData.permissions[i].write=1==n[1],e.userData.permissions[i].create=1==n[2],e.userData.permissions[i].delete=1==n[3]}}}))})).catch((function(e){console.log("ERR",e.status)}))}},m=u,p=(r("fc58"),r("d717"),r("2877")),_=Object(p["a"])(m,o,a,!1,null,null,null);t["default"]=_.exports},5214:function(e,t,r){},6233:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n}));var o=r("bc3a"),a=r.n(o),i=r("acc0");function s(){return a.a.get(i["e"]+"obtenerInfoLicense")}function n(e,t){return a.a.post(i["e"]+"setInfoLicense",{Licencia:t,NumeroValidacion:e})}},"6b9d":function(e,t,r){},d717:function(e,t,r){"use strict";var o=r("6b9d"),a=r.n(o);a.a},fc58:function(e,t,r){"use strict";var o=r("5214"),a=r.n(o);a.a}}]);
//# sourceMappingURL=chunk-437cb12e.d30f1fd8.js.map