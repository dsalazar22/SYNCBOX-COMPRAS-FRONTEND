(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44f88e86"],{"1a82":function(e,t,n){},3481:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("bc3a"),r=n.n(a),o=n("86c7"),s={headers:{Authorization:null==localStorage.getItem("syncbox.cloud")?"":JSON.parse(localStorage.getItem("syncbox.cloud")).token}},i={warehouse:function(e,t){return r.a.post(o["d"]+"warehouse/"+t,e,s)},ubications:function(e,t){return r.a.post(o["d"]+"ubications/"+t,e,s)},controllerinventory:function(e,t){return r.a.post(o["d"]+"controllerinventory/"+t,e,s)},totalsinventory:function(e){return r.a.get(o["d"]+"geinventory/"+e,s)}}},3790:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("bc3a"),r=n.n(a),o=n("86c7"),s={headers:{Authorization:null==localStorage.getItem("syncbox.cloud")?"":JSON.parse(localStorage.getItem("syncbox.cloud")).token}},i={orders:function(e,t){return console.log(JSON.parse(localStorage.getItem("syncbox.cloud")).token),console.log(o["n"]),r.a.post(o["n"]+"commercialsorders/"+t,e,s)},addheadorders:function(e,t){return r.a.post(o["n"]+"comercialordercontroller/"+t,e,s)},addorderdetails:function(e,t){return r.a.post(o["n"]+"comercialorderdetailcontroller/"+t,e,s)},gettrm:function(e){return r.a.get(o["n"]+"gettrm/"+e,s)},update_order_status:function(e,t){return r.a.post(o["n"]+"updateorderstatus",e,s)},purchases:function(e,t){return r.a.post(o["n"]+"commercialpurchases/"+t,e,s)},getcartera:function(e,t){return r.a.get(o["n"]+"getoutstandinginvoices/"+t+"/"+e,s)},deliveries:function(e,t){return r.a.post(o["n"]+"deliveries/"+t,e,s)},globalordersreport:function(){return r.a.get(o["n"]+"globalordersreport",s)},quotcontroller:function(e,t){return r.a.post(o["n"]+"quotcontroller/"+t,e,s)},printOrders:function(e){var t="http://localhost:3000/orders",n="POST",a=e;return r.a.request({url:t,method:n,data:a,responseType:"blob"})},sendMail:function(e){return r.a.post("http://localhost:3000/orders",e,s)}}},"6baa":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e._v(" "),n("b-input-group",{staticClass:"mt-2 mb-2"},[n("b-form-input",{attrs:{disabled:null!=e.dataresult[0],placeholder:"Numero del Pedido"},model:{value:e.pedidonro,callback:function(t){e.pedidonro=t},expression:"pedidonro"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"success"},on:{click:e.checkorder}},[n("span",{staticClass:"fas fa-check"})])],1)],1),e._v(" "),n("h2",{staticClass:"text-center",staticStyle:{"margin-bottom":"5px"}},[e._v(e._s(null!=e.dataresult[0]?e.dataresult[0].customer_name:""))]),e._v(" "),n("h4",{staticClass:"text-center"},[e._v(e._s(null!=e.dataresult[0]?"OC:"+e.dataresult[0].customer_code:""))]),e._v(" "),null!=e.dataresult[0]?n("b-input-group",{staticClass:"mt-2 mb-2"},[n("b-form-input",{attrs:{placeholder:"Transportador"},model:{value:e.transportador,callback:function(t){e.transportador=t},expression:"transportador"}}),e._v(" "),n("b-input-group-append",[null==e.dataresult[0].deliveries_header_id?n("b-btn",{attrs:{variant:"success"},on:{click:e.addremission}},[n("span",{staticClass:"fas fa-check"}),e._v(" Crear Remision ")]):e._e()],1)],1):e._e(),e._v(" "),n("b-table",{attrs:{small:"","show-empty":"",stacked:"md",items:e.dataresult,fields:e.columns},scopedSlots:e._u([{key:"cell(product_code)",fn:function(t){return[n("div",{staticClass:"text-left"},[null!=e.dataresult[0].deliveries_header_id?n("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-success borderless icon-btn"},on:{click:function(n){e.open_deliveries(t.item),e.showEntregas=!0}}},[n("i",{staticClass:"ion ion-md-create"})]):e._e(),e._v("\n                    "+e._s(t.item.product_code)+"\n                ")],1)]}},{key:"tipo_pregunta",fn:function(t){return[n("div",{staticClass:"text-left"},[e._v("\n                    "+e._s(0==t.item.tipo_pregunta?"Bool":"Texto")+"\n                ")])]}},{key:"cell(requested_amount)",fn:function(t){return[e._v("\n                "+e._s(e.numberWithCommas(t.item.requested_amount))+"\n            ")]}},{key:"cell(delivered_quantity)",fn:function(t){return[e._v("\n                "+e._s(e.numberWithCommas(t.item.delivered_quantity))+"\n            ")]}},{key:"cell(pending_amount)",fn:function(t){return[e._v("\n                "+e._s(e.numberWithCommas(t.item.pending_amount))+"\n            ")]}},{key:"cell(current_delivery_amount)",fn:function(t){return[e._v("\n                "+e._s(e.numberWithCommas(t.item.current_delivery_amount))+"\n            ")]}}])}),e._v(" "),n("b-modal",{staticClass:"modal-center",attrs:{id:"modals-top",size:"xl","hide-footer":"",title:"Control de Entregas"},model:{value:e.messageContent,callback:function(t){e.messageContent=t},expression:"messageContent"}},[n("div")]),e._v(" "),n("b-modal",{staticClass:"modal-center",attrs:{id:"modals-top",size:"lg"},model:{value:e.showEntregas,callback:function(t){e.showEntregas=t},expression:"showEntregas"}},[n("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[e._v("\n                Entregas "),n("span",{staticClass:"font-weight-light"},[e._v("Informaci√≥n General")]),n("br")]),e._v(" "),n("div",{staticClass:"text-center"},[n("h3",[e._v("\n                    "+e._s(this.selectedOrderDetail.customer_name)+"\n                    "),n("br"),e._v("\n                    "+e._s(this.selectedOrderDetail.product_code)+" - "+e._s(this.selectedOrderDetail.product_description)+"\n                ")]),e._v(" "),n("h4"),e._v(" "),n("div",[n("b",[e._v("Pendiente por Entregar: ")]),e._v(" "+e._s(e.numberWithCommas(this.selectedOrderDetail.pending_amount))+"\n                    "),n("b",[e._v("Inventario Disponible: ")]),e._v(e._s(e.numberWithCommas(this.selectedOrderDetail.invtotal))+"\n                ")])]),e._v(" "),n("div",{staticClass:"row mb-2"},[n("div",{staticClass:"col"},[n("multiselect",{attrs:{options:e.tableWarehouse,label:"warehouse",searchable:!0,"show-labels":!1,placeholder:"Codigo del Estado"},model:{value:e.selectedWarehouse,callback:function(t){e.selectedWarehouse=t},expression:"selectedWarehouse"}})],1),e._v(" "),n("div",{staticClass:"col"},[n("multiselect",{attrs:{options:e.selectedWarehouse.ubications,label:"ubication",searchable:!0,"show-labels":!1,placeholder:"Codigo del Estado"},model:{value:e.selectedUbication,callback:function(t){e.selectedUbication=t},expression:"selectedUbication"}})],1)]),e._v(" "),n("b-input-group",[n("b-form-input",{attrs:{placeholder:"Cantidad a Entregar",type:"number",autocomplete:"off"},model:{value:e.amountDelivery,callback:function(t){e.amountDelivery=t},expression:"amountDelivery"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"success icon-btn"},on:{click:function(t){return e.controllerAmount()}}},[n("i",{staticClass:"fas fa-check"})])],1)],1),e._v(" "),n("b-table",{staticClass:"mt-2",attrs:{responsive:"",fields:e.columnsDeliveries,items:e.tableDeliveries},scopedSlots:e._u([{key:"cell(amount)",fn:function(t){return[n("div",{staticClass:"text-nowrap"},[e._v(" "+e._s(e.numberWithCommas(t.item.amount)))])]}}])}),e._v(" "),n("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("div",{staticClass:"text-right"},[n("b-btn",{on:{click:function(t){e.showEntregas=!1}}},[e._v("Cerrar")])],1)])],1)],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h4",{staticClass:"d-flex justify-content-between align-items-center w-100 font-weight-bold py-3 mb-4"},[n("div",[e._v("Control de Entregas")])])}],o=(n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("3790")),s=n("3481"),i=n("8e5f"),l=n.n(i),c={components:{Multiselect:l.a},data:function(){return{transportador:null,messageContent:!1,pedidonro:null,dataresult:[],columns:[{key:"product_code",label:"Codigo"},{key:"product_description",label:"Descripcion"},{key:"requested_amount",label:"Cantidad Solicitada"},{key:"delivered_quantity",label:"Cantidad Entregada"},{key:"pending_amount",label:"Cantidad Pendiente"},{key:"delivery_amount",label:"Entrega Actual"}],documentCode:null,selectedOrderDetail:{},amountDelivery:null,tableDeliveries:[],columnsDeliveries:[{key:"code_header",label:"Documento"},{key:"deliveries_id",label:"Consecutivo"},{key:"amount",label:"Cantidad"},{key:"creater",label:"Creado Por"},{key:"created",label:"Fecha Creacion"}],showEntregas:!1,tableWarehouse:[],selectedWarehouse:{ubications:[]},selectedUbication:{}}},methods:{openform:function(){this.pedidonro=null},numberWithCommas:function(e){return null==e&&(e=0),e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")},checkorder:function(){var e=this;o["a"].orders(this.pedidonro,"detail").then((function(t){e.dataresult=[],""!=t.data&&(e.dataresult=t.data,e.transportador=e.dataresult[0].transportation_company)}))},controllerAmount:function(){var e=this;0!=this.amountDelivery&&null!=this.amountDelivery&&o["a"].deliveries({deliveries_header_id:this.dataresult[0].deliveries_header_id,orders_details_id:this.selectedOrderDetail.orders_details_id,amount:this.amountDelivery,ubications_id:this.selectedUbication.ubications_id,product_id:this.selectedOrderDetail.product_id},"insert").then((function(t){e.open_deliveries(e.selectedOrderDetail),e.checkorder()}))},addremission:function(){var e=this;o["a"].deliveries({orders_id:this.dataresult[0].orders_id,transportation_company:this.transportador},"insert-header").then((function(t){e.checkorder()}))},open_deliveries:function(e){var t=this;console.log(e),this.selectedOrderDetail=e,this.tableWarehouse=[],this.selectedWarehouse={ubications:[]},this.selectedUbication={},s["a"].controllerinventory(e.product_id,"get-per-product").then((function(e){if(t.selectedOrderDetail.invtotal=0,""!=e.data)for(var n=e.data,a=0;a<n.length;a++){var r=n[a];t.selectedOrderDetail.invtotal=t.selectedOrderDetail.invtotal+r.total}t.selectedOrderDetail.invtotal>0&&(t.tableWarehouse=e.data)})),o["a"].deliveries(this.dataresult[0].deliveries_header_id,"get").then((function(e){console.log(e),""!=e.data?t.tableDeliveries=e.data:t.tableDeliveries=[]})),this.amountDelivery=null}}},d=c,u=(n("8e35"),n("9aa7"),n("2877")),m=Object(u["a"])(d,a,r,!1,null,null,null);t["default"]=m.exports},"8e35":function(e,t,n){"use strict";var a=n("1a82"),r=n.n(a);r.a},"9aa7":function(e,t,n){"use strict";var a=n("b03f"),r=n.n(a);r.a},b03f:function(e,t,n){}}]);
//# sourceMappingURL=chunk-44f88e86.4781c0e7.js.map