(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53a83817"],{"1a82":function(t,e,a){},"6b9d":function(t,e,a){},"77d0":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("notifications",{attrs:{group:"notifications-default"}}),t._v(" "),a("h4",{staticClass:"font-weight-bold py-3 mb-4"},[t._v("Configuración de Contadores")]),t._v(" "),a("div",{staticClass:"w-100 text-right"}),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{md:"5"}},[a("b-input-group",[a("b-form-input",{attrs:{placeholder:"Buscar..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),a("b-input-group-append",[a("b-btn",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[a("span",{staticClass:"oi oi-delete"})])],1)],1)],1),t._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"5"}},[a("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1),t._v(" "),a("b-col",{staticClass:"my-1",attrs:{md:"2"}},[a("b-btn",{attrs:{variant:"outline-success icon-btn"},on:{click:function(e){return e.preventDefault(),t.newOwnerTags()}}},[a("i",{staticClass:"ion ion-md-add"})])],1)],1),t._v(" "),a("b-table",{attrs:{small:"","show-empty":"",stacked:"md",items:t.tableData,fields:t.columns,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(tag_name)",fn:function(e){return[a("div",{staticClass:"text-left"},[t._v("\n                        "+t._s(e.item.tag_name)+"\n                    ")])]}},{key:"cell(max_value)",fn:function(e){return[a("div",{staticClass:"text-left"},["Timers"==e.item.counter_type?a("i",{staticClass:"ion ion-md-stopwatch text-info"}):t._e(),t._v(" "),"Timers"!=e.item.counter_type?a("i",{staticClass:"ion ion-md-calculator text-info"}):t._e(),t._v("\n                          \n                        "+t._s(e.item.max_value+("Timers"==e.item.counter_type?" ("+e.item.time_option+")":""))+" \n                    ")])]}},{key:"cell(edit)",fn:function(e){return[a("div",{staticClass:"text-left"},[a("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-success borderless icon-btn"},on:{click:function(a){return a.preventDefault(),t.data_change(e.item,"edit")}}},[a("i",{staticClass:"ion ion-md-create"})]),t._v(" "),a("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-danger borderless icon-btn"},on:{click:function(a){return a.preventDefault(),t.data_change(e.item,"delete")}}},[a("i",{staticClass:"ion ion-md-close"})])],1)]}}])}),t._v(" "),a("div",{staticClass:"d-flex justify-content-between"},[a("div",[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t._v(" "),a("div",{staticClass:"text-muted"},[a("small",[t._v(" Total de Tags Configurados: "+t._s(this.totalRows)+" ")])])])],1)]),t._v(" "),a("b-modal",{staticClass:"modal-center",attrs:{id:"modals-top","no-close-on-backdrop":"",size:"xl"},model:{value:t.showFormulario,callback:function(e){t.showFormulario=e},expression:"showFormulario"}},[a("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[t._v("\n            Administrar Tableros "),a("span",{staticClass:"font-weight-light"},[t._v("Alarmas")]),a("br"),t._v(" "),a("small",{staticClass:"text-danger"},[t._v("No use caracteres especiales en ninguno de los textos, ej. (tildes, ñ, %, @, etc)")])]),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"4"}},[a("h4",[t._v("Atención:")]),t._v(" "),a("h5",[t._v("Contadores de Ciclos:")]),t._v(" "),a("p",[t._v("\n                    El contador debe de ser un dato aislado a la operación del sistema, una vez "),a("b",[t._v("SyncBox i4.0")]),t._v(" lea este valor lo sumará a \n                    los contadores que esten programados, y luego lo enviará a cero. Este debe de ser un valor que incremente simplemente.\n                ")]),t._v(" "),a("h5",[t._v("Contadores de Tiempos:")]),t._v(" "),a("p",[t._v("\n                    El contador de tiempos activará la rutina una vez el TAG seleccionado sea igual al numero 1 (uno). De otro modo se suspenderá \n                    el conteo. Las unidades internas del sistema estan en segundos, la visualizacion es la que se seleccione.\n                ")])]),t._v(" "),a("b-col",{attrs:{md:"8"}},[a("fieldset",{staticClass:"demo-vertical-spacing-sm mt-2"},[a("b-form-group",{staticClass:"mb-4",attrs:{label:"Nombre de la Variable"}},[a("b-form-input",{attrs:{placeholder:"Nombre de la Variable",disabled:t.disabledcode},model:{value:t.objOwnerTags.tag_name,callback:function(e){t.$set(t.objOwnerTags,"tag_name",e)},expression:"objOwnerTags.tag_name"}})],1),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-group",{attrs:{label:"TAG"}},[a("multiselect",{attrs:{placeholder:"",options:t.tableVariables,multiple:!1,searchable:!0,"clear-on-select":!0,"close-on-select":!0,"hide-selected":!0},model:{value:t.objOwnerTags.tags,callback:function(e){t.$set(t.objOwnerTags,"tags",e)},expression:"objOwnerTags.tags"}},[a("span",{attrs:{slot:"noResult"},slot:"noResult"},[t._v("No found.")])])],1)],1)],1),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-group",{attrs:{label:"Tipo de Contador"}},[a("b-form-select",{attrs:{disabled:t.disabledcode,options:["Timers","Counter"]},model:{value:t.objOwnerTags.counter_type,callback:function(e){t.$set(t.objOwnerTags,"counter_type",e)},expression:"objOwnerTags.counter_type"}})],1)],1)],1),t._v(" "),"Timers"==t.objOwnerTags.counter_type?a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-group",{attrs:{label:"Visualización de Tiempo"}},[a("b-form-select",{attrs:{options:["Horas","Minutos","Segundos"]},model:{value:t.objOwnerTags.time_option,callback:function(e){t.$set(t.objOwnerTags,"time_option",e)},expression:"objOwnerTags.time_option"}})],1)],1)],1):t._e(),t._v(" "),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-group",{attrs:{label:"Valor Maximo de Esta Variable"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Valor Maximo de Esta Variable"},model:{value:t.objOwnerTags.max_value,callback:function(e){t.$set(t.objOwnerTags,"max_value",e)},expression:"objOwnerTags.max_value"}})],1)],1)],1)],1)])],1),t._v(" "),a("div",{staticClass:"w-100 text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("div",{staticClass:"d-flex justify-content-between"},[a("div"),t._v(" "),a("div",[a("b-btn",{attrs:{variant:"primary"},on:{click:function(e){t.showFormulario=!1}}},[t._v("Cancelar / Cerrar")]),t._v(" "),a("b-btn",{attrs:{variant:"success"},on:{click:function(e){return t.save()}}},[t._v("Guardar")])],1)])])],1),t._v(" "),a("div",{staticClass:"d-inline-block"},[a("sweet-modal",{ref:"messageSyncInfo",attrs:{icon:"error",title:"Borrar Tablero"}},[a("div",{staticClass:"w-100 text-center"},[t._v("\n                Esta seguro que desea elimintar éste tablero "),a("b",[t._v(t._s(t.objOwnerTags.tag_name))]),t._v(" ?\n                "),a("p",[t._v("\n                    Esta acción no se podrá deshacer.    \n                ")])]),t._v(" "),a("template",{slot:"button"},[a("b-btn",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:function(e){return t.deleteOwnerTags()}}},[t._v("Borrar Tablero")])],1),t._v(" "),a("template",{slot:"button"},[a("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.cancelDeleteOwnerTags()}}},[t._v("Cerrar")])],1)],2)],1)],1)},n=[],s=(a("a434"),a("b0c0"),a("2b0e")),r=a("b0ae"),i=a("9663"),l=a("ee98"),c=a.n(l),u=a("8e5f"),d=a.n(u);s["default"].use(c.a);var b={metaInfo:{title:"Configuración de Tableros"},components:{SweetModal:r["a"],Multiselect:d.a,SweetModalTab:r["b"]},data:function(){return{name:"configs_tag",version:"v1.0.0.0",itemVariable:null,tableVariables:[],OwnerTagsCreated:!1,contentWiki:"",anchorAttrs:{target:"_blank",rel:"noopener noreferrer nofollow"},options:[{text:"Segundos",value:"s"},{text:"Minutos",value:"m"},{text:"Horas",value:"h"}],currentPage:1,perPage:50,totalRows:0,pageOptions:[50,100,200],filter:null,showFormulario:!1,variantSaveButton:"success",disabledcode:!1,modified:!1,tableData:[],columns:[{key:"tag_name",label:"Nombre Variable"},{key:"wscode",label:"Centro de Trabajo"},{key:"tags",label:"Tag"},{key:"max_value",label:"Valor Max"},{key:"edit",label:"Edit"}],objOwnerTags:{},tableChart:[],objInfo:{decimal_places:0}}},methods:{check_access:function(t,e){return!0},restartInfo:function(){this.objInfo={}},openHelp:function(){var t=this;ApiWikiHelp(this.version,this.name).then((function(e){t.contentWiki=e.data})).catch((function(e){t.contentWiki=e.data})),this.$refs.longModal.open()},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},showCustom:function(t,e,a){this.$notify({group:"notifications-default",type:t,title:e,text:a})},newOwnerTags:function(){this.objOwnerTags={},this.showFormulario=!0,this.disabledcode=!1},cancelDeleteOwnerTags:function(){this.$refs.messageSyncInfo.close(),this.objOwnerTags={},this.disabledcode=!1,this.OwnerTagsCreated=!1},deleteOwnerTags:function(t){var e=this;i["a"].ownertagscontroller(this.objOwnerTags,"del").then((function(t){e.showCustom("bg-warning text-white","Modificar Registro","¡El Registro se ha Modificado con Éxito!"),e.showData()})),this.$refs.messageSyncInfo.close()},saveOwnerTags:function(){var t=this;i["a"].ownertagscontroller(this.objOwnerTags,"modify").then((function(e){202===e.status?t.showCustom("bg-danger text-white","Error","¡Error Guardando el Registro!"):(t.showCustom("bg-warning text-white","Modificar Registro","¡El Registro se ha Modificado con Éxito!"),""!=e.data&&(t.objInfo=e.data,t.disabledcode=!0,t.OwnerTagsCreated=!0),t.showData())})).catch((function(t){console.log(t.status)}))},save:function(){var t=this;i["a"].ownertagscontroller(this.objOwnerTags,"modify").then((function(e){202===e.status?t.showCustom("bg-danger text-white","Error","¡Error Guardando el Registro!"):(t.showCustom("bg-warning text-white","Modificar Registro","¡El Registro se ha Modificado con Éxito!"),""!=e.data&&(t.objInfo=e.data,t.disabledcode=!0,t.OwnerTagsCreated=!0),t.showData(),t.objAlarms={})})).catch((function(t){console.log(t.status)}))},showData:function(){var t=this;i["a"].ownertagscontroller("[]","get").then((function(e){t.tableData=Object.values(e.data),t.totalRows=t.tableData.length}))},data_change:function(t,e){this.variantSaveButton="warning",this.disabledcode=!0,this.OwnerTagsCreated=!0,this.objOwnerTags=t,"edit"===e?this.showFormulario=!0:this.$refs.messageSyncInfo.open()},data_change_chart:function(t,e){if("delete"==e){for(var a=-1,o=0;o<this.objAlarms.length;o++){var n=this.objAlarms[o];(this.objAlarms.old_tag_name=n.tag_name)&&(a=o)}this.tableChart.splice(a,1)}else this.objAlarms=t,this.objAlarms.old_tag_name=t.tag_name}},created:function(){var t=this;this.showData(),i["a"].alarmcontroller("[]","get_tags").then((function(e){t.tableVariables=e.data}))},mounted:function(){}},m=b,g=(a("8e35"),a("d717"),a("93ec"),a("2877")),f=Object(g["a"])(m,o,n,!1,null,null,null);e["default"]=f.exports},"8e35":function(t,e,a){"use strict";var o=a("1a82"),n=a.n(o);n.a},"93ec":function(t,e,a){"use strict";var o=a("9bfa"),n=a.n(o);n.a},9663:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("99af");var o=a("bc3a"),n=a.n(o),s=a("86c7"),r={headers:{Authorization:null==localStorage.getItem("syncbox.cloud")?"":JSON.parse(localStorage.getItem("syncbox.cloud")).token}},i={get_content_time_series:function(t,e){return n.a.post(s["m"]+"getcontenttimeseries/"+e,t,r)},get_epoch_time_series:function(t){return n.a.get(s["m"]+"getepochtimeseries/"+t,r)},tagcontroller:function(t,e,a){return n.a.post(s["m"]+"tagcontroller/".concat(a,"/").concat(e),t,r)},getlastvalue:function(t){return n.a.post(s["m"]+"getlastvalue/".concat(t),r)},boardcontroller:function(t,e){return n.a.post(s["m"]+"boardcontroller/".concat(e),t,r)},alarmcontroller:function(t,e){return n.a.post(s["m"]+"alarmcontroller/".concat(e),t,r)},ownertagscontroller:function(t,e){return n.a.post(s["m"]+"ownertagscontroller/".concat(e),t,r)},gettimeseries:function(){return s["m"]}}},"9bfa":function(t,e,a){},d717:function(t,e,a){"use strict";var o=a("6b9d"),n=a.n(o);n.a}}]);
//# sourceMappingURL=chunk-53a83817.a59d8f5a.js.map