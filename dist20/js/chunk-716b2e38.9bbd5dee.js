(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-716b2e38"],{"1a82":function(t,e,a){},3481:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var o=a("bc3a"),n=a.n(o),s=a("86c7"),r={headers:{Authorization:null==localStorage.getItem("syncbox.cloud")?"":JSON.parse(localStorage.getItem("syncbox.cloud")).token}},i={warehouse:function(t,e){return n.a.post(s["d"]+"warehouse/"+e,t,r)},ubications:function(t,e){return n.a.post(s["d"]+"ubications/"+e,t,r)},controllerinventory:function(t,e){return n.a.post(s["d"]+"controllerinventory/"+e,t,r)},totalsinventory:function(t){return n.a.get(s["d"]+"geinventory/"+t,r)}}},3790:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var o=a("bc3a"),n=a.n(o),s=a("86c7"),r={headers:{Authorization:null==localStorage.getItem("syncbox.cloud")?"":JSON.parse(localStorage.getItem("syncbox.cloud")).token}},i={orders:function(t,e){return console.log(JSON.parse(localStorage.getItem("syncbox.cloud")).token),console.log(s["n"]),n.a.post(s["n"]+"commercialsorders/"+e,t,r)},addheadorders:function(t,e){return n.a.post(s["n"]+"comercialordercontroller/"+e,t,r)},addorderdetails:function(t,e){return n.a.post(s["n"]+"comercialorderdetailcontroller/"+e,t,r)},gettrm:function(t){return n.a.get(s["n"]+"gettrm/"+t,r)},update_order_status:function(t,e){return n.a.post(s["n"]+"updateorderstatus",t,r)},purchases:function(t,e){return n.a.post(s["n"]+"commercialpurchases/"+e,t,r)},getcartera:function(t,e){return n.a.get(s["n"]+"getoutstandinginvoices/"+e+"/"+t,r)},deliveries:function(t,e){return n.a.post(s["n"]+"deliveries/"+e,t,r)},globalordersreport:function(){return n.a.get(s["n"]+"globalordersreport",r)},quotcontroller:function(t,e){return n.a.post(s["n"]+"quotcontroller/"+e,t,r)},printOrders:function(t){var e="http://localhost:3000/orders",a="POST",o=t;return n.a.request({url:e,method:a,data:o,responseType:"blob"})},sendMail:function(t){return n.a.post("http://localhost:3000/orders",t,r)}}},"7a6c":function(t,e,a){},"8cdf":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("notifications",{attrs:{group:"notifications-default"}}),t._v(" "),t._m(0),t._v(" "),a("b-table",{attrs:{small:"","show-empty":"",stacked:"md",items:t.dataresult,fields:t.columnsDeliveries},scopedSlots:t._u([{key:"cell(code_deliveries_header_id)",fn:function(e){return[a("div",{staticClass:"text-left"},[a("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-success borderless icon-btn"},on:{click:function(a){t.open_details(e.item),t.showEntregas=!0}}},[a("i",{staticClass:"ion ion-md-create"})]),t._v("\n                    "+t._s(e.item.code_deliveries_header_id)+"\n                ")],1)]}}])}),t._v(" "),a("b-modal",{staticClass:"modal-center",attrs:{id:"modals-top",size:"xl"},model:{value:t.showEntregas,callback:function(e){t.showEntregas=e},expression:"showEntregas"}},[a("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[t._v("\n                Entregas "),a("span",{staticClass:"font-weight-light"},[t._v("Información General")]),a("br")]),t._v(" "),a("div",{staticClass:"text-center"},[a("h3",[t._v("\n                    "+t._s(this.selectedOrderDetail.name)+"\n                    "),a("br"),t._v("\n                    "+t._s(this.selectedOrderDetail.code_deliveries_header_id)+"\n                    "),a("br"),t._v("\n                    "+t._s(this.selectedOrderDetail.shipping_address)+"\n                ")])]),t._v(" "),a("div",{staticClass:"border rounded"},[a("div",{staticClass:"m-2"},[a("b-row",[a("b-col",{staticClass:"mt-2",attrs:{sm:"12",md:"6",lg:"6"}},[a("small",{staticClass:"font-weight-bold"},[t._v("Transportadora")]),t._v(" "),a("b-input",{attrs:{autocomplete:"off",size:"sm",placeholder:"Transportadora"},model:{value:t.selectedOrderDetail.transportation_company,callback:function(e){t.$set(t.selectedOrderDetail,"transportation_company","string"===typeof e?e.trim():e)},expression:"selectedOrderDetail.transportation_company"}})],1),t._v(" "),a("b-col",{staticClass:"mt-2",attrs:{sm:"12",md:"6",lg:"6"}},[a("small",{staticClass:"font-weight-bold"},[t._v("Placa")]),t._v(" "),a("b-input",{attrs:{autocomplete:"off",size:"sm",placeholder:"Placa"},model:{value:t.placa,callback:function(e){t.placa="string"===typeof e?e.trim():e},expression:"placa"}})],1)],1),t._v(" "),a("b-row",[a("b-col",{staticClass:"mt-2",attrs:{sm:"12",md:"6",lg:"6"}},[a("small",{staticClass:"font-weight-bold"},[t._v("Nro de Guia")]),t._v(" "),a("b-input",{attrs:{autocomplete:"off",size:"sm",placeholder:"Nro de Guia"},model:{value:t.guia,callback:function(e){t.guia="string"===typeof e?e.trim():e},expression:"guia"}})],1),t._v(" "),a("b-col",{staticClass:"mt-2",attrs:{sm:"12",md:"6",lg:"6"}},[a("small",{staticClass:"font-weight-bold"},[t._v("Numero Factura")]),t._v(" "),a("b-input",{attrs:{autocomplete:"off",size:"sm",placeholder:"Numero Factura"},model:{value:t.invoice,callback:function(e){t.invoice="string"===typeof e?e.trim():e},expression:"invoice"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"m-2 text-right"},[a("b-btn",{attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.setinfo()}}},[a("i",{staticClass:"fas fa-check"}),t._v(" Guardar ")])],1)]),t._v(" "),a("b-table",{staticClass:"mt-2",attrs:{responsive:"",items:t.selectedOrderDetail.array_to_json,fields:t.columns},scopedSlots:t._u([{key:"cell(box_count)",fn:function(e){return[a("div",{staticClass:"text-nowrap"},[t._v(" "+t._s(e.item.box_count>0?t.numberWithCommas(e.item.delivery_amount/e.item.box_count):0))])]}},{key:"cell(total_price)",fn:function(e){return[a("div",{staticClass:"text-nowrap"},[t._v(" "+t._s(t.numberWithCommas(e.item.delivery_amount*e.item.sale_price)))])]}}])}),t._v(" "),a("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("div",{staticClass:"text-right"},[a("b-btn",{on:{click:function(e){t.showEntregas=!1}}},[t._v("Cerrar")])],1)])],1)],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"d-flex justify-content-between align-items-center w-100 font-weight-bold py-3 mb-4"},[a("div",[t._v("Facturar Despachos")])])}],s=(a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("2b0e")),r=a("3790"),i=(a("3481"),a("8e5f")),l=a.n(i),c=a("ee98"),d=a.n(c);s["default"].use(d.a);var u={components:{Multiselect:l.a},data:function(){return{transportador:null,messageContent:!1,pedidonro:null,invoice:null,guia:null,placa:null,dataresult:[],columns:[{key:"product_code",label:"Codigo"},{key:"product_description",label:"Descripcion"},{key:"sale_price",label:"Precio de Venta"},{key:"delivery_amount",label:"Cantidad Entregada"},{key:"total_price",label:"Valor Total"},{key:"box_count",label:"Cajas"}],documentCode:null,selectedOrderDetail:{},amountDelivery:null,tableDeliveries:[],columnsDeliveries:[{key:"code_deliveries_header_id",label:"Remision"},{key:"order_code",label:"Pedido"},{key:"nit",label:"NIT"},{key:"name",label:"Nombre"},{key:"transportation_company",label:"Transportadora"},{key:"invoice_number",label:"Factura"}],showEntregas:!1,tableWarehouse:[],selectedWarehouse:{ubications:[]},selectedUbication:{}}},methods:{showCustom:function(t,e,a){this.$notify({group:"notifications-default",type:t,title:e,text:a})},openform:function(){this.pedidonro=null},numberWithCommas:function(t){return null==t&&(t=0),t.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")},checkorder:function(){var t=this;r["a"].orders(this.pedidonro,"detail").then((function(e){t.dataresult=[],""!=e.data&&(t.dataresult=e.data)}))},loadinfo:function(){var t=this;r["a"].deliveries({},"get-pending-invoice").then((function(e){t.dataresult=[],""!=e.data&&(t.dataresult=e.data)}))},setinfo:function(){var t=this;r["a"].deliveries({deliveries_header_id:this.selectedOrderDetail.deliveries_header_id,invoice:this.invoice,transportation_company:this.selectedOrderDetail.transportation_company,placa:this.placa,guia:this.guia},"fa-invoice").then((function(e){200==e.status?t.showCustom("bg-success","Factura Almacenada","¡El registro se ha guardado con Éxito!"):t.showCustom("bg-danger","Error","¡El registro no se ha guardado con Éxito!")}))},addremission:function(){r["a"].deliveries({deliveries_header_id:this.selectedOrderDetail.deliveries_header_id,invoice:this.invoice,placa:this.placa,guia:this.guia,transportation_company:this.selectedOrderDetail.transportation_company},"fa-invoice").then((function(t){}))},open_details:function(t){this.selectedOrderDetail=t}},created:function(){this.loadinfo()}},m=u,p=(a("8e35"),a("9aa7"),a("b41a"),a("2877")),f=Object(p["a"])(m,o,n,!1,null,null,null);e["default"]=f.exports},"8e35":function(t,e,a){"use strict";var o=a("1a82"),n=a.n(o);n.a},"9aa7":function(t,e,a){"use strict";var o=a("b03f"),n=a.n(o);n.a},b03f:function(t,e,a){},b41a:function(t,e,a){"use strict";var o=a("7a6c"),n=a.n(o);n.a}}]);
//# sourceMappingURL=chunk-716b2e38.9bbd5dee.js.map