{"version":3,"sources":["webpack:///./src/components/i40/js/maintenance.js","webpack:///./src/components/sbx/maintenance/ot_to_finish.vue?2719","webpack:///src/components/sbx/maintenance/ot_to_finish.vue","webpack:///./src/components/sbx/maintenance/ot_to_finish.vue?0eaf","webpack:///./src/components/sbx/maintenance/ot_to_finish.vue"],"names":["axiosConfig","headers","localStorage","getItem","JSON","parse","token","infomainten","categories","info","actions","axios","post","mainten","assets","assetsParts","durationProducts","plan","detail","registroDatos","codeDura","invLinea","get","loadoperators","event","getColorState","state","getTextState","getPriority","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","mantenimientoColumns","mantenimientoTableData","scopedSlots","_u","key","fn","row","_s","item","description","getInfoState","priority","on","$event","preventDefault","mantConfig","infoDetalleMant","_e","model","value","callback","$$v","actionConfirm","expression","class","new_state","$set","comment","updateState","actionLQ","proxy","assets_id","staticRenderFns","component"],"mappings":"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","file":"js/chunk-83622762.5b595d87.js","sourcesContent":["import axios from 'axios'\nimport {mainten} from './globals'\nlet axiosConfig = {\n  headers: {\n    'Authorization': localStorage.getItem('syncbox.cloud') == null ? '' : JSON.parse(localStorage.getItem('syncbox.cloud')).token\n  }\n}\n\nvar infomainten = {\n  categories: function (info, actions) {\n    return axios.post(mainten + 'categoriescontrol/' + actions, info, axiosConfig)\n  },\n  assets: function (info, actions) {\n    return axios.post(mainten + 'assetscontrol/' + actions, info, axiosConfig)\n  },\n  \n  assetsParts: function (info, actions) {\n    return axios.post(mainten + 'assetspartscontrol/' + actions, info, axiosConfig)\n  },\n  \n  durationProducts: function (info, actions) {\n    return axios.post(mainten + 'durationsproducts/' + actions, info, axiosConfig)\n  },\n\n  plan: function (info, actions, detail) {\n    return axios.post(mainten + 'plan/' + actions+'/'+detail, info, axiosConfig)\n  },\n\n  registroDatos: function (info, actions, codeDura,assets) {\n    return axios.post(mainten + 'durationcontrol/' + actions+'/'+codeDura+'/'+assets, info, axiosConfig)\n  },\n\n  invLinea: function () {\n    return axios.get(mainten + 'invlinea', axiosConfig)\n  },\n\n\n  loadoperators: function(event, info) {\n    return axios.post(mainten + 'eventsoperators/'+event, info, axiosConfig)\n  },\n\n  getColorState(state){\n      if(state == 'CR'){\n          return 'default'\n      }else if(state == 'CN'){\n          return 'dark'\n      }else if(state == 'AC'){\n          return 'info'\n      }else if(state == 'CE'){\n        return 'secondary'\n      }else if(state == 'FI'){\n        return 'success'\n      }else if(state == 'NA'){\n          return 'danger'\n      }else if(state == 'EO'){\n        return 'warning'\n    }else if(state == 'PV'){\n      return 'warning'\n  }\n  },\n\n  getTextState(state){\n      if(state == 'CR'){\n          return 'Creado'\n      }else if(state == 'CN'){\n          return 'Cancelado'\n      }else if(state == 'AC'){\n          return 'Activo'\n      }else if(state == 'CE'){\n          return 'Terminado'\n      }else if(state == 'FI'){\n        return 'Finalizado'\n      }else if(state == 'NA'){\n          return 'No Autorizado'\n      }else if(state == 'EO'){\n        return 'En Operacion'\n    }else if(state == 'PV'){\n      return 'Por Verificar'\n  }\n  },\n\n  getPriority(state){\n      if(state == 'alta'){\n          return 'danger'\n      }else if(state == 'media'){\n          return 'warning'\n      }else if(state == 'baja'){\n          return 'info'\n      }\n  },\n\n\n}\n\nexport {\n  infomainten\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"font-weight-bold py-3 mb-4\"},[_vm._v(\"Ordenes de Trabajo Pendientes Por Finalizar\")]),_vm._v(\" \"),_c('div',{staticClass:\"w-100 text-right\"}),_vm._v(\" \"),_c('b-table',{staticClass:\"mt-3\",attrs:{\"small\":\"\",\"show-empty\":\"\",\"stacked\":\"md\",\"fields\":_vm.mantenimientoColumns,\"items\":_vm.mantenimientoTableData},scopedSlots:_vm._u([{key:\"cell(description)\",fn:function(row){return [_vm._v(\"\\n            \"+_vm._s(row.item.description)+\"      \"),_c('b-badge',{attrs:{\"variant\":_vm.getInfoState(row.item.state, 'color')}},[_vm._v(_vm._s(_vm.getInfoState(row.item.state,'text')))])]}},{key:\"cell(priority)\",fn:function(row){return [_c('b-badge',{attrs:{\"variant\":_vm.getInfoState(row.item.priority, 'priority')}},[_vm._v(_vm._s(row.item.priority))])]}},{key:\"cell(edit)\",fn:function(row){return [_c('div',{staticClass:\"text-left\"},[(row.item.state == 'CE')?_c('b-button',{attrs:{\"size\":\"xs\",\"variant\":\"outline-secondary\"},on:{\"click\":function($event){$event.preventDefault();_vm.mantConfig=true; _vm.infoDetalleMant = row.item}}},[_c('i',{staticClass:\"far fa-eye\"}),_vm._v(\"   Cerrar OT\")]):_vm._e()],1)]}}])}),_vm._v(\" \"),_c('b-modal',{attrs:{\"hide-footer\":\"\",\"centered\":\"\",\"title\":\"Confirmación de Acción\"},model:{value:(_vm.actionConfirm),callback:function ($$v) {_vm.actionConfirm=$$v},expression:\"actionConfirm\"}},[_c('h3',{class:_vm.infoDetalleMant.new_state == 'AC'?'text-success text-center':'text-danger text-center'},[_vm._v(_vm._s(_vm.infoDetalleMant.new_state == \"AC\" ? 'Liberar Orden de Trabajo' : 'Terminar la Solicitud'))]),_vm._v(\" \"),_c('h4',{staticClass:\"text-center\"},[_vm._v(\"¿Desea Continuar?\")]),_vm._v(\" \"),(_vm.infoDetalleMant.new_state != 'AC')?_c('b-form-group',{attrs:{\"label-cols\":\"12\",\"label\":\"\"}},[_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Detalle...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(_vm.infoDetalleMant.comment),callback:function ($$v) {_vm.$set(_vm.infoDetalleMant, \"comment\", $$v)},expression:\"infoDetalleMant.comment\"}})],1):_vm._e(),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"text-right\"},[_c('b-button',{attrs:{\"size\":\"md\",\"variant\":\"secondary\"},on:{\"click\":function($event){_vm.actionConfirm = false}}},[_vm._v(\"Cancelar\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"size\":\"md\",\"variant\":_vm.infoDetalleMant.new_state == 'AC'?'success':'danger',\"disabled\":_vm.infoDetalleMant.new_state != 'AC' && (_vm.infoDetalleMant.comment == '' || this.infoDetalleMant.comment == null)},on:{\"click\":function($event){return _vm.updateState()}}},[_vm._v(\"Confirmar\")])],1)],1),_vm._v(\" \"),_c('b-modal',{attrs:{\"hide-footer\":\"\",\"centered\":\"\",\"title\":\"Confirmación de Acción\"},model:{value:(_vm.actionLQ),callback:function ($$v) {_vm.actionLQ=$$v},expression:\"actionLQ\"}},[_c('h3',{staticClass:\"text-danger text-center\"},[_vm._v(_vm._s('Desea Liquidar la OT'))]),_vm._v(\" \"),_c('h4',{staticClass:\"text-center\"},[_vm._v(\"¿Desea Continuar?\")]),_vm._v(\" \"),_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"Detalle...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(_vm.infoDetalleMant.comment),callback:function ($$v) {_vm.$set(_vm.infoDetalleMant, \"comment\", $$v)},expression:\"infoDetalleMant.comment\"}}),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"text-right\"},[_c('b-button',{attrs:{\"size\":\"md\",\"variant\":\"secondary\"},on:{\"click\":function($event){_vm.actionConfirm = false}}},[_vm._v(\"Cancelar\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"size\":\"md\",\"variant\":\"danger\",\"disabled\":(_vm.infoDetalleMant.comment == '' || this.infoDetalleMant.comment == null)},on:{\"click\":function($event){return _vm.updateState()}}},[_vm._v(\"Confirmar\")])],1)],1),_vm._v(\" \"),_c('b-modal',{attrs:{\"hide-footer\":\"\",\"size\":\"xl\"},scopedSlots:_vm._u([{key:\"modal-title\",fn:function(){return [_vm._v(\"\\n            Gestionar OT\\n        \")]},proxy:true}]),model:{value:(_vm.mantConfig),callback:function ($$v) {_vm.mantConfig=$$v},expression:\"mantConfig\"}},[_vm._v(\" \"),_c('maintenance-definition',{attrs:{\"assets_id\":this.infoDetalleMant.assets_id,\"infoDetalle\":_vm.infoDetalleMant},on:{\"close\":function($event){_vm.mantConfig = $event; _vm.infoDetalleMant.new_state = !$event?'FI':''; _vm.actionLQ = !$event}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div> \n        <h4 class=\"font-weight-bold py-3 mb-4\">Ordenes de Trabajo Pendientes Por Finalizar</h4>\n        <div class=\"w-100 text-right\"></div>\n\n        <b-table small show-empty stacked=\"md\" :fields=\"mantenimientoColumns\" :items=\"mantenimientoTableData\" class=\"mt-3\">\n            <template v-slot:cell(description)=\"row\">\n                {{row.item.description}}  &nbsp; &nbsp; <b-badge :variant=\"getInfoState(row.item.state, 'color')\">{{getInfoState(row.item.state,'text')}}</b-badge> \n            </template>\n            <template v-slot:cell(priority)=\"row\">\n                <b-badge :variant=\"getInfoState(row.item.priority, 'priority')\">{{row.item.priority}}</b-badge> \n            </template>\n            <template v-slot:cell(edit)=\"row\">\n                <div class=\"text-left\">\n                    <b-button size=\"xs\" variant=\"outline-secondary\" v-if=\"row.item.state == 'CE'\" @click.prevent=\"mantConfig=true; infoDetalleMant = row.item\"><i class=\"far fa-eye\"></i> &nbsp; Cerrar OT</b-button>    \n                </div>\n            </template>\n        </b-table>\n\n        <b-modal v-model=\"actionConfirm\" hide-footer centered title=\"Confirmación de Acción\">\n            <h3 :class=\"infoDetalleMant.new_state == 'AC'?'text-success text-center':'text-danger text-center'\">{{infoDetalleMant.new_state == \"AC\" ? 'Liberar Orden de Trabajo' : 'Terminar la Solicitud' }}</h3>\n            <h4 class=\"text-center\">¿Desea Continuar?</h4>\n            <b-form-group label-cols=\"12\" label=\"\" v-if=\"infoDetalleMant.new_state != 'AC'\">\n                <b-form-textarea\n                    v-model=\"infoDetalleMant.comment\"\n                    id=\"textarea\"\n                    placeholder=\"Detalle...\"\n                    rows=\"3\"\n                    max-rows=\"6\"></b-form-textarea>\n            </b-form-group>\n            <hr>\n            <div class=\"text-right\">\n                \n                <b-button size=\"md\" variant=\"secondary\" @click=\"actionConfirm = false\">Cancelar</b-button>\n                <b-button size=\"md\" :variant=\"infoDetalleMant.new_state == 'AC'?'success':'danger'\" :disabled=\"infoDetalleMant.new_state != 'AC' && (infoDetalleMant.comment == '' || this.infoDetalleMant.comment == null)\" @click=\"updateState()\">Confirmar</b-button>\n            </div>\n        </b-modal>\n\n        <b-modal v-model=\"actionLQ\" hide-footer centered title=\"Confirmación de Acción\">\n            <h3 class=\"text-danger text-center\">{{'Desea Liquidar la OT' }}</h3>\n            <h4 class=\"text-center\">¿Desea Continuar?</h4>\n                <b-form-textarea\n                    v-model=\"infoDetalleMant.comment\"\n                    id=\"textarea\"\n                    placeholder=\"Detalle...\"\n                    rows=\"3\"\n                    max-rows=\"6\"></b-form-textarea>\n            <hr>\n            <div class=\"text-right\">\n                \n                <b-button size=\"md\" variant=\"secondary\" @click=\"actionConfirm = false\">Cancelar</b-button>\n                <b-button size=\"md\" variant=\"danger\" :disabled=\"(infoDetalleMant.comment == '' || this.infoDetalleMant.comment == null)\" @click=\"updateState()\">Confirmar</b-button>\n            </div>\n        </b-modal>\n\n        <b-modal hide-footer v-model=\"mantConfig\" size=\"xl\">\n            <template v-slot:modal-title>\n                Gestionar OT\n            </template>\n            <maintenance-definition :assets_id=\"this.infoDetalleMant.assets_id\" :infoDetalle=\"infoDetalleMant\" v-on:close=\"mantConfig = $event; infoDetalleMant.new_state = !$event?'FI':''; actionLQ = !$event\"></maintenance-definition>\n        </b-modal>\n    </div>\n</template>\n\n<script>\nimport { config,master } from \"@/components/i40/js/globals\";\nimport { infomainten } from '@/components/i40/js/maintenance'\nexport default {\n    components:{\n        'maintenance-definition': () => import('./maintenance_definition.vue')\n    },\n    metaInfo: {\n        title:\"OT Pendientes Por Finalizar\",\n    },\n    data() {\n        return {\n            actionLQ:false, \n            actionConfirm:false,\n            mantConfig:false,\n            infoDetalleMant:{comment:null},\n            mantenimientoTableData:[],\n            mantenimientoColumns:[\n                {key:'plan_id', label:\"OT\"},\n                {key:'code', label:\"Activo\"},\n                {key:'description', label:\"Descripción\"},\n                {key:'chart_created', label:\"Fecha de Creacion\"},\n                {key:'date_last_state_change', label:\"Ultimo Estado\"},\n                {key:'username', label:\"Usuario\"},\n                {key:'maintenance_type', label:\"Tipo\"},\n                {key:'priority', label:\"Prioridad\"},\n                {key:'percentage_use_pending', label:\"% de Uso\"},\n                \n                {key:'edit', label:\"Cierre\"},],\n        }\n    },\n    methods: {\n        getInfoState(state, cual){           \n            if(cual==\"color\"){\n                return infomainten.getColorState(state)\n            }else if (cual==\"text\"){\n                return infomainten.getTextState(state)\n            }else if(cual == \"priority\"){\n                return infomainten.getPriority(state)\n            }\n        },\n        accessControl(state, cual){\n            if(state==\"CR\"){\n                if(cual == 'edit' || cual == \"cancelar\" || cual == \"iniciar\"){\n                    return true\n                }else{\n                    return false\n                }\n            }else if(state==\"CN\" || state==\"NA\"){\n                return false\n            }else if(state==\"CN\"){\n                if(cual == 'iniciar'){\n                    return true\n                }else{\n                    return false\n                }\n            }\n        },\n        openActionConfirm(item, state){\n            this.infoDetalleMant = item; \n            this.infoDetalleMant.new_state =state\n            // this.infoDetalleMant.comment = null\n            this.actionConfirm=true\n        },\n\n        updateState(){\n            infomainten.plan(this.infoDetalleMant, 'plan', 'update-state').then(data =>{\n                this.loadInfo()\n            })\n        },\n\n        loadInfo(){\n            infomainten.plan(0, 'plan','select-to-close').then(data => {\n                this.mantenimientoTableData = []\n                if(data.data != \"\"){\n                    this.mantenimientoTableData = data.data\n                }\n            })\n        }\n    },\n    created() {\n        this.loadInfo()\n    },\n}\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ot_to_finish.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ot_to_finish.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ot_to_finish.vue?vue&type=template&id=a6af4800&\"\nimport script from \"./ot_to_finish.vue?vue&type=script&lang=js&\"\nexport * from \"./ot_to_finish.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}