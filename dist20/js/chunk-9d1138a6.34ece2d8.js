(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d1138a6"],{"1a82":function(t,e,o){},"6b9d":function(t,e,o){},"8e35":function(t,e,o){"use strict";var a=o("1a82"),s=o.n(a);s.a},c89d:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));o("b0c0");var a,s=o("ade3"),r=o("bc3a"),i=o.n(r),n=o("86c7"),c={headers:{Authorization:null==localStorage.getItem("syncbox.cloud")?"":JSON.parse(localStorage.getItem("syncbox.cloud")).token}},l=(a={tiposCuentas:function(t,e){return i.a.post(n["b"]+"tiposdecuentas/"+e,t,c)},claseCC:function(t,e){return i.a.post(n["b"]+"clasecc/"+e,t,c)},puc:function(t,e){return i.a.post(n["b"]+"puc/"+e,t,c)},sf:function(t,e){return i.a.post(n["b"]+"sf/"+e,t,c)},drivers:function(t,e){return i.a.post(n["b"]+"drivers/"+e,t,c)},esquemaparticion:function(t,e){return i.a.post(n["b"]+"ps/"+e,t,c)},centroscostos:function(t,e){return i.a.post(n["b"]+"cc/"+e,t,c)},uploadFile:function(t,e){var o=new FormData;return o.append("file",e,e.name),i.a.post(n["b"]+"loadfile/"+t,o,{headers:{"Content-Type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("syncbox.cloud")).token}})},ctrlpresupuesto:function(t,e){return i.a.post(n["b"]+"ctrlpresupuesto/"+e,t,c)},ctrlpresupuestoproductos:function(t,e){return i.a.post(n["b"]+"ctrlpresupuestoproductos/"+e,t,c)},getSubreparto:function(){return i.a.get(n["b"]+"getsubrepartos",c)},workstationdrivers:function(t,e){return"get"==t?i.a.get(n["b"]+"workstationdrivers/"+e,c):i.a.post(n["b"]+"workstationdrivers",e,c)},tworkstationdrivers:function(t,e){return console.log(c),"get"==t?i.a.get(n["b"]+"tworkstationdrivers/"+e,c):i.a.post(n["b"]+"tworkstationdrivers",e,c)}},Object(s["a"])(a,"getSubreparto",(function(){return i.a.get(n["b"]+"getsubrepartos",c)})),Object(s["a"])(a,"detalleproducto",(function(t,e){return i.a.get(n["b"]+"detalleproducto/"+t+"/"+e,c)})),Object(s["a"])(a,"ejecutarLiquidacion",(function(){return i.a.post(n["b"]+"liquidarserpro",{},c)})),Object(s["a"])(a,"delliquidarserpro",(function(t){return i.a.post(n["b"]+"delliquidarserpro",t,c)})),Object(s["a"])(a,"detallecostoppto",(function(t){return i.a.get(n["b"]+"calctotalppto/"+t,c)})),a)},d717:function(t,e,o){"use strict";var a=o("6b9d"),s=o.n(a);s.a},fec7:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("notifications",{attrs:{group:"notifications-default"}}),t._v(" "),o("h4",{staticClass:"font-weight-bold py-3 mb-4"},[t._v("Tipos Centros de Trabajo")]),t._v(" "),o("div",{staticClass:"w-100 text-right"}),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("b-row",[o("b-col",{staticClass:"my-1",attrs:{md:"5"}},[o("b-input-group",[o("b-form-input",{attrs:{placeholder:"Buscar..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),o("b-input-group-append",[o("b-btn",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[o("span",{staticClass:"oi oi-delete"})])],1)],1)],1),t._v(" "),o("b-col",{staticClass:"my-1",attrs:{md:"5"}},[o("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1),t._v(" "),o("b-col",{staticClass:"d-flex justify-content-center my-1",attrs:{md:"2"}},[t.check_access("admin_workstation_type","c")?o("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modals-default",modifiers:{"modals-default":!0}}],staticClass:"btn-md",attrs:{variant:"outline-success icon-btn"},on:{click:function(e){e.preventDefault(),t.addData(),t.variantSaveButton="success",t.objState={}}}},[o("i",{staticClass:"ion ion-md-add"})]):t._e(),t._v(" \n                "),o("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modals-default",modifiers:{"modals-default":!0}}],staticClass:"btn-md",attrs:{variant:"outline-info icon-btn"},on:{click:function(e){return e.preventDefault(),t.openHelp(e)}}},[o("i",{staticClass:"fas fa-chalkboard-teacher"})])],1)],1),t._v(" "),o("b-table",{attrs:{small:"","show-empty":"",stacked:"md",items:t.tableData,fields:t.columns,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(edit)",fn:function(e){return[o("div",[t.check_access("admin_workstation_type","c")?o("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-success borderless icon-btn"},on:{click:function(o){return o.preventDefault(),t.data_change(e.item,"edit")}}},[o("i",{staticClass:"ion ion-md-create"})]):t._e(),t._v(" "),o("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-danger borderless icon-btn"},on:{click:function(o){return o.preventDefault(),t.data_change(e.item,"delete")}}},[o("i",{staticClass:"ion ion-md-close"})])],1)]}},{key:"cell(description)",fn:function(e){return[o("div",[e.item.cc?o("span",[t._v("["+t._s(e.item.cc)+"] ")]):t._e(),t._v(" "+t._s(e.item.description)+"\n                    ")])]}},{key:"cell(is_productive)",fn:function(e){return[o("div",[e.item.is_productive?t._e():o("span",{staticStyle:{color:"red"}},[o("i",{staticClass:"ion ion-md-remove-circle"})]),t._v(" "),e.item.is_productive?o("span",{staticStyle:{color:"green"}},[o("i",{staticClass:"ion ion-md-add-circle"})]):t._e()])]}}])}),t._v(" "),o("div",{staticClass:"d-flex justify-content-between"},[o("div",[o("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t._v(" "),o("div",{staticClass:"text-muted"},[o("small",[t._v(" Total Tipos Centros de Trabajo: "+t._s(this.totalRows)+" ")])])])],1)]),t._v(" "),o("div",{staticClass:"d-inline-block"},[o("sweet-modal",{ref:"errorWithButtonAlert",attrs:{icon:"error",title:"Borrar registro"}},[t._v("\n            ¿Está seguro que desea borrar el registro?\n            "),o("div",{staticClass:"w-100 text-center"},[t._v("\n                El registro será borrado de forma lógica, pero su información será visible en reportes. \n            ")]),t._v(" "),o("template",{slot:"button"},[t.check_access("admin_workstation_type","d")?o("b-btn",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:function(e){return t.deleteRecord()}}},[t._v("Eliminar")]):t._e()],1),t._v(" "),o("template",{slot:"button"},[o("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.closeDeleteRecord()}}},[t._v("Cerrar")])],1)],2)],1),t._v(" "),o("b-modal",{staticClass:"modal-center",attrs:{id:"modals-top",size:"xl"},model:{value:t.showFormulario,callback:function(e){t.showFormulario=e},expression:"showFormulario"}},[o("div",{attrs:{slot:"modal-title"},slot:"modal-title"},[t._v("\n        Administrar "),o("span",{staticClass:"font-weight-light"},[t._v("Tipos Centros de Trabajo")]),o("br")]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 col-lg-5"},[o("h5",[t._v("Definicion del Tipo de Centro de Trabajo")]),t._v(" "),o("fieldset",{staticClass:"demo-vertical-spacing-sm"},[o("b-form-group",{attrs:{label:"Descripción"}},[o("b-input",{attrs:{placeholder:"Descripción"},model:{value:t.objInfo.description,callback:function(e){t.$set(t.objInfo,"description","string"===typeof e?e.trim():e)},expression:"objInfo.description"}})],1),t._v(" "),o("b-form-group",{attrs:{label:"Codigo Centro de Costos"}},[o("b-input",{attrs:{placeholder:"Codigo Centro de Costos"},model:{value:t.objInfo.cc,callback:function(e){t.$set(t.objInfo,"cc","string"===typeof e?e.trim():e)},expression:"objInfo.cc"}})],1),t._v(" "),o("label",{staticClass:"switcher switcher-success mt-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.objInfo.is_productive,expression:"objInfo.is_productive"}],staticClass:"switcher-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.objInfo.is_productive)?t._i(t.objInfo.is_productive,null)>-1:t.objInfo.is_productive},on:{change:function(e){var o=t.objInfo.is_productive,a=e.target,s=!!a.checked;if(Array.isArray(o)){var r=null,i=t._i(o,r);a.checked?i<0&&t.$set(t.objInfo,"is_productive",o.concat([r])):i>-1&&t.$set(t.objInfo,"is_productive",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.objInfo,"is_productive",s)}}}),t._v(" "),o("span",{staticClass:"switcher-indicator"},[o("span",{staticClass:"switcher-yes"},[o("span",{staticClass:"ion ion-md-checkmark"})]),t._v(" "),o("span",{staticClass:"switcher-no"},[o("span",{staticClass:"ion ion-md-close"})])]),t._v(" "),o("span",{staticClass:"switcher-label"},[t._v("Es Productivo")])])],1),t._v(" "),o("div",{staticClass:"text-right mt-2"},[o("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.cancel()}}},[t._v("Cancelar")]),t._v(" "),t.check_access("admin_workstation_type","c")?o("b-btn",{attrs:{variant:t.variantSaveButton},on:{click:function(e){return t.submit()}}},[t._v("Guardar")]):t._e()],1)]),t._v(" "),o("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 col-lg-7"},[o("div",{staticClass:"mt-3"},[o("h4",[t._v("Informacion de Inductores")]),t._v(" "),o("b-form",t._l(t.tableDrivers,(function(e){return o("b-form-row",{key:e.code},[o("b-form-group",{staticClass:"col-md-12",staticStyle:{"margin-bottom":"0.5rem"},attrs:{label:e.description+" ["+e.um+"]","label-cols-sm":"7","label-cols-lg":"7","content-cols-sm":"","content-cols-lg":"7",size:"sm"}},[o("b-input",{attrs:{type:"number",id:"f"+e.drivers_id,placeholder:e.description,size:"sm"},model:{value:e.value,callback:function(o){t.$set(e,"value",o)},expression:"item.value"}})],1)],1)})),1),t._v(" "),o("div",{staticClass:"text-right"})],1)])]),t._v(" "),o("div",{staticClass:"w-100 text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"})]),t._v(" "),o("sweet-modal",{ref:"longModal"},[o("div",{staticClass:"text-left"},[o("vue-markdown",{attrs:{source:t.contentWiki,"anchor-attributes":t.anchorAttrs}})],1)])],1)},s=[],r=(o("e01a"),o("b0c0"),o("acd8"),o("96cf"),o("1da1")),i=o("2b0e"),n=o("b0ae"),c=o("4265"),l=o("be23"),u=o("ee98"),d=o.n(u),p=o("9ce6"),b=o.n(p),v=o("48fc"),f=o("c89d");i["default"].use(d.a);var m={metaInfo:{title:"Tipos Centros de Trabajo"},components:{VueMarkdown:b.a,SweetModal:n["a"],SweetModalTab:n["b"]},data:function(){return{name:"workstation_types",version:"v1.0.0.0",contentWiki:"",anchorAttrs:{target:"_blank",rel:"noopener noreferrer nofollow"},currentPage:1,perPage:50,totalRows:0,pageOptions:[50,100,200],filter:null,showFormulario:!1,variantSaveButton:"success",disabledcode:!1,modified:!1,tableData:[],tableDrivers:[],columns:[{key:"description",label:"Tipo Centro Trabajo"},{key:"is_productive",label:"Es Productivo"},{key:"edit",label:"Edit"}],objInfo:{workstation_type_id:0,description:null,cc:null,is_productive:!1},objState:{}}},watch:{"objInfo.workstation_type_id":function(t){var e=this;f["a"].drivers([],"select").then((function(o){if(e.tableDrivers=[],""!=o.data){var a=[];console.log(a);for(var s=0;s<o.data.length;s++){var r=o.data[s];null==r.driver_route&&(r.value=0,a.push(r))}f["a"].tworkstationdrivers("get",t).then((function(t){if(200==t.status&&""!=t.data)for(var e=t.data,o=0;o<e.length;o++)for(var s=e[o],r=0;r<a.length;r++){var i=a[r];s.driver_id==i.drivers_id&&(a[r].value=s.value)}})),e.tableDrivers=a}}))}},methods:{check_access:function(t,e){return v["a"].check_access(t,e)},saveDrivers:function(){for(var t=this,e=[],o=0;o<this.tableDrivers.length;o++){var a=this.tableDrivers[o];e.push({type_id:this.objInfo.workstation_type_id,driver_id:a.drivers_id,value:parseFloat(null==a.value?0:a.value)})}f["a"].tworkstationdrivers("post",e).then((function(e){200==e.status?t.showCustom("bg-success text-white","Guardar Registro","¡El registro se ha Guardado con Éxito!"):t.showCustom("bg-danger text-white","Error","¡Error Guardando el Registro!")}))},restartInfo:function(){this.objInfo={workstation_type_id:0,description:"",is_productive:!1};for(var t=0;t<this.tableDrivers.length;t++)this.tableDrivers[t].value=null},openHelp:function(){var t=this;Object(l["a"])(this.version,this.name).then((function(e){t.contentWiki=e.data})).catch((function(e){t.contentWiki=e.data})),this.$refs.longModal.open()},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},showCustom:function(t,e,o){this.$notify({group:"notifications-default",type:t,title:e,text:o})},addData:function(){this.restartInfo(),this.showFormulario=!0},cancel:function(){this.restartInfo(),this.showFormulario=!1},closeDeleteRecord:function(){this.restartInfo(),this.$refs.errorWithButtonAlert.close()},submit:function(){var t=this;this.validate_content()?c["a"].workstationtype(this.objInfo,0===this.objInfo.workstation_type_id||void 0===this.objInfo.workstation_type_id?"insert":"update").then((function(e){202===e.status?t.showCustom("bg-danger text-white","Error","¡Error Guardando el Registro!"):(0===t.objInfo.workstation_type_id||void 0===t.objInfo.workstation_type_id?t.showCustom("bg-success text-white","Guardar Registro","¡El registro se ha Guardado con Éxito!"):t.showCustom("bg-warning text-white","Modificar Registro","¡El registro se ha Modificado con Éxito!"),t.showData(),t.cancel())})).catch((function(t){console.log(t.status)})):this.showCustom("bg-danger text-white","Error","¡La Información esta Incompleta, Por Favor Valide!")},deleteRecord:function(){var t=this;c["a"].workstationtype(this.objInfo,"delete").then((function(e){202===e.status?t.showCustom("bg-danger text-white","Error","¡Error al Eliminar el Registro!"):(t.showCustom("bg-success text-white","Registro Eliminado","¡El Registro se ha Eliminado con Éxito!"),t.restartInfo()),t.dismissCountDown=t.dismissSecs,t.showData()})).catch((function(t){console.log(t.status)})),this.$refs.errorWithButtonAlert.close()},showData:function(){var t=this;c["a"].workstationtype([],"select").then((function(e){""!=e.data?(t.tableData=e.data,t.totalRows=t.tableData.length):(t.tableData=[],t.totalRows=0)}))},data_change:function(t,e){var o=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o.variantSaveButton="warning",o.objInfo=t,"edit"===e?(o.showFormulario=!0,o.objInfo.workstation_type_id=t.workstation_type_id):o.$refs.errorWithButtonAlert.open();case 3:case"end":return a.stop()}}),a)})))()},validate_content:function(){var t=!0;return this.objState={},this.objState.message="Este es un Campo Obligatorio",""==this.objInfo.description?(this.objState.description="invalid",t=!1):this.objState.description="valid",t}},created:function(){var t=this;this.showData(),f["a"].drivers([],"select").then((function(e){if(""!=e.data){t.tableDrivers=e.data;for(var o=0;o<t.tableDrivers.length;o++)t.tableDrivers[o].value=null}}))}},h=m,_=(o("8e35"),o("d717"),o("2877")),g=Object(_["a"])(h,a,s,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-9d1138a6.34ece2d8.js.map