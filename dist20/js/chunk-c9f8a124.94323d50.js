(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9f8a124"],{"0b4b":function(t,e,a){},2227:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var o=a("bc3a"),r=a.n(o),n=a("86c7"),s={headers:{Authorization:null==localStorage.getItem("syncbox.cloud")?"":JSON.parse(localStorage.getItem("syncbox.cloud")).token}},i={production:function(t,e){return r.a.post(n["i"]+"getproductionorders/"+e,t,s)},reportproduction:function(t,e){return r.a.post(n["i"]+"reportproduction/"+e,t,s)},createproductionorder:function(t){return r.a.post(n["i"]+"createproductionorder",t,s)},preparedorder:function(t){return r.a.get(n["i"]+"preparedorder/"+t,s)},updateproductionorder:function(t){return r.a.post(n["i"]+"updateorders",t,s)},updatedetailproductionorder:function(t){return r.a.post(n["i"]+"updatedetailproductionorder",t,s)},changestatusorderprocess:function(t){return r.a.post(n["i"]+"changestatusorderprocess",t,s)},searchproductionorder:function(t){return r.a.get(n["i"]+"searchproductionorder/"+t,s)},loadoperators:function(t,e){return r.a.post(n["i"]+"eventsoperators/"+t,e,s)},detailsReports:function(t){return r.a.get(n["i"]+"reportsdetail/"+t,s)},hideorder:function(t){return r.a.post(n["i"]+"hideorder",t,s)},showorder:function(t){return r.a.post(n["i"]+"showorder",t,s)},getcurrentorders:function(t){return r.a.get(n["i"]+"getcurrentorders/"+t,s)}}},"452f":function(t,e,a){},"60bc":function(t,e,a){"use strict";var o=a("0b4b"),r=a.n(o);r.a},"7a6c":function(t,e,a){},b41a:function(t,e,a){"use strict";var o=a("7a6c"),r=a.n(o);r.a},d152:function(t,e,a){"use strict";var o=a("452f"),r=a.n(o);r.a},ea4f:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("notifications",{attrs:{group:"notifications-default"}}),t._v(" "),a("h4",{staticClass:"font-weight-bold py-3 mb-2"},[t._v("\n      Buscar Orden de Producción\n    ")]),t._v(" "),a("b-form-group",{attrs:{label:"Número de Orden"}},[a("b-input-group",[a("b-form-input",{model:{value:t.ordercode,callback:function(e){t.ordercode=e},expression:"ordercode"}}),t._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.loadCommercialsOrders()}}},[t._v("Buscar Orden de Producción")])],1)],1)],1),t._v(" "),a("b-table",{attrs:{small:"","tbody-class":"h6 font-weight-normal","show-empty":"",hover:"",responsive:"",stacked:"sm",items:t.tabledata,fields:t.columnsCommercialsOrders}}),t._v(" "),a("h5",{staticClass:"font-weight-bold py-3 mb-2"},[t._v("\n        Detalle Orden de Producción\n        ")]),t._v(" "),a("b-table",{attrs:{small:"","tbody-class":"h6 font-weight-normal","show-empty":"",hover:"",responsive:"",stacked:"sm",items:t.tabledatadetails,fields:t.columnsDetails},scopedSlots:t._u([{key:"cell(intervalo)",fn:function(e){return[a("div",{staticClass:"text-left"},[a("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-warning borderless"},on:{click:function(a){return a.preventDefault(),t.data_changeField(e.item,"edit")}}},[a("i",{staticClass:"ion ion-md-create"}),t._v(" "+t._s(e.item.intervalo)+" ")])],1)]}}])}),t._v(" "),a("b-modal",{staticClass:"modal-center",attrs:{id:"modals-top",size:"lg"},model:{value:t.manual_report,callback:function(e){t.manual_report=e},expression:"manual_report"}},[a("h2",{staticClass:"text-danger"},[t._v("Reportar Unidades Defectuosas")]),t._v(" "),a("h3",[t._v(t._s(t.info.centrotrabajo))]),t._v(" "),a("h4",{staticClass:"text-center text-danger mt-2"},[t._v("Revise la siguiente información con Atención")]),t._v(" "),a("h5",[t._v("\n                Cantidad Actual :\n                "+t._s(t.info.totalproducido)+" - "+t._s(t.info.unddefectuosas)+" = "+t._s(t.info.totalproducido-t.info.unddefectuosas)+"\n            ")]),t._v(" "),a("h5",[t._v("\n                Cantidad Futura : \n                "+t._s(t.info.totalproducido)+" -  ("+t._s(t.info.unddefectuosas)+" + "+t._s(t.amount_scrap)+") = "),a("span",{staticClass:"text-danger"},[t._v(" "+t._s(parseFloat(t.info.totalproducido)-(parseFloat(t.info.unddefectuosas)+parseFloat(t.amount_scrap)))+" ")])]),t._v(" "),a("multiselect",{attrs:{options:t.items_defectuosas,label:"description",searchable:!0,"show-labels":!1,placeholder:"Codigo del Defecto"},model:{value:t.itemselected,callback:function(e){t.itemselected=e},expression:"itemselected"}}),t._v(" "),a("b-input",{staticClass:"mt-2",attrs:{type:"number",step:"0.1",placeholder:"Cantidad a Reportar"},model:{value:t.amount_scrap,callback:function(e){t.amount_scrap=e},expression:"amount_scrap"}}),t._v(" "),a("div",{staticClass:"w-100 mt-2 text-right"},[a("b-btn",{attrs:{variant:"primary"},on:{click:function(e){t.manual_report=!1}}},[t._v("Cancelar")]),t._v(" "),t.info.totalproducido>t.amount_scrap?a("b-btn",{attrs:{variant:"success"},on:{click:function(e){return t.submit("scrap",t.amount_scrap)}}},[t._v("Guardar")]):t._e()],1),t._v(" "),a("div",{staticClass:"w-100 text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"})],1)],1)},r=[],n=a("2b0e"),s=a("2227"),i=a("25be"),c=a("9ce6"),d=a.n(c),l=(a("be23"),a("8e5f")),u=a.n(l),p=a("ee98"),f=a.n(p);n["default"].use(f.a);var b={components:{VueMarkdown:d.a,Multiselect:u.a},computed:{},data:function(){return{amount_scrap:0,info:{},wsinfo:{},item:{},itemselected:[],manual_report:!1,items_defectuosas:[],ordercode:0,tabledata:[],tabledatadetails:[],columnsDetails:[{key:"intervalo",label:"# Intervalo"},{key:"activity_description",label:"Actividad"},{key:"centrotrabajo",label:"Centro Trabajo"},{key:"fechainicio",label:"Fecha Inicio"},{key:"fechafin",label:"Fecha Fin"},{key:"tiempototaltrabajo",label:"Tiempo Trabajo [Min]"},{key:"microparos",label:"Microparos [Min]"},{key:"totalproducido",label:"Total Producido"},{key:"unddefectuosas",label:"Defectuosas"}],columnsCommercialsOrders:[{key:"consecutive_order",sortable:!0,label:"# Orden"},{key:"codigo",sortable:!0,label:"Codigo"},{key:"producto",sortable:!0,label:"Producto"},{key:"activity_description",sortable:!0,label:"Actividad"},{key:"tiempototaltrabajo",sortable:!0,label:"Tiempo Trabajado [Min]"},{key:"cantidadprogramada",sortable:!0,label:"Programado"},{key:"totalproducido",sortable:!0,label:"Producido"},{key:"unddefectuosas",sortable:!0,label:"Defectuosas"},{key:"fechafin",sortable:!0,label:"Fecha Fin"},{key:"turno",sortable:!0,label:"Turno"}],currentPage:1,perPage:50,totalRows:0,pageOptions:[50,100,200],filter:null}},watch:{"$route.params.orderid":function(t){}},methods:{showCustom:function(t,e,a){this.$notify({group:"notifications-default",type:t,title:e,text:a})},loadCommercialsOrders:function(){var t=this;s["a"].searchproductionorder(this.ordercode).then((function(e){t.tabledatadetails=e.data[0]["details"],t.tabledata=e.data[0]["total"]}))},data_changeField:function(t){var e=this;this.info=t,this.amount_scrap=0,this.manual_report=!0,i["a"].scrapcode({families_id:t.families_id},"select-product").then((function(t){e.items_defectuosas=t.data}))},submit:function(t,e){var a=this,o={id:this.info.intervalo,amonut:e,jobs_id:this.info.idjob,code_module:"sx_manual",wscode:this.info.centrotrabajo,scrap_code_id:this.itemselected.scrap_code_id};s["a"].reportproduction(o,t).then((function(t){202===t.status?a.showCustom("bg-danger text-white","Guardar registro","¡Error Guardando el Registro!"):a.showCustom("bg-success text-white","Guardar registro","¡El Registro se ha Guardado con Éxito!"),a.manual_report=!1}))}},created:function(){this.ordercode=this.$route.params.orderid}},m=b,_=(a("60bc"),a("d152"),a("b41a"),a("2877")),h=Object(_["a"])(m,o,r,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-c9f8a124.94323d50.js.map